!function A(e,t,i){function s(n,o){if(!t[n]){if(!e[n]){var a="function"==typeof require&&require;if(!o&&a)return a(n,!0);if(r)return r(n,!0);var h=new Error("Cannot find module '"+n+"'");throw h.code="MODULE_NOT_FOUND",h}var l=t[n]={exports:{}};e[n][0].call(l.exports,(function(A){return s(e[n][1][A]||A)}),l,l.exports,A,e,t,i)}return t[n].exports}for(var r="function"==typeof require&&require,n=0;n<i.length;n++)s(i[n]);return s}({1:[function(A,e,t){"use strict";var i=A(5),s=0,r=["button","checkbox","listbox","option","menuitem","menuitemradio","menuitemcheckbox","tab"],n=A(8),o=function(){this._elements={},this._callbacks={},this._bindEvents(),this._proxies={},this._setup()},a=o.prototype;a._bindEvents=function(){this._handleKeydown=this._handleKeydown.bind(this),this._handleHover=this._handleHover.bind(this)},a._setup=function(){this._addProxy("click",this._clickProxy),this._addProxy("hover",this._hoverProxy)},a._addProxy=function(A,e){this._proxies[A]=this._proxies[A]||[],this._proxies[A].push(e)},a._removeProxy=function(A,e){if(this._proxies[A]){var t=this._proxies[A].indexOf(e);t>-1&&this._proxies[A].splice(t,1),0===this._proxies[A].length&&delete this._proxies[A]}},a.addEventListener=function(A,e,t){this._proxies[e]&&(this._proxies[e].forEach(function(i){i.call(this,A,e,t)}.bind(this)),A.addEventListener(e,t))},a.removeEventListener=function(A,e,t){this._proxies[e]&&(this._proxies[e].forEach(function(i){i.call(this,A,e,t,!0)}.bind(this)),A.removeEventListener(e,t))},a._clickProxy=function(A,e,t,i){var s=A.getAttribute("role");r.indexOf(s)<0&&n("element's role is not set to any of the following "+r.join(", ")),i?(A.removeEventListener("keydown",this._handleKeydown),this._removeCallback(A,e,t)):(A.addEventListener("keydown",this._handleKeydown),this._addCallback(A,e,t))},a._hoverProxy=function(A,e,t,i){i?(A.removeEventListener("focus",this._handleHover,!0),A.removeEventListener("blur",this._handleHover,!0),t&&this._removeCallback(A,e,t)):(A.addEventListener("focus",this._handleHover,!0),A.addEventListener("blur",this._handleHover,!0),t&&this._addCallback(A,e,t))},a._handleKeydown=function(A){if(A.ctrlKey||A.altKey||A.metaKey)return!0;A.keyCode!==i.SPACEBAR&&A.keyCode!==i.ENTER||this._executeCallback(A,"click")},a._handleHover=function(A){"focus"https://www.apple.com.cn/v/iphone/switch/f/built/scripts/===A.type?A.currentTarget.classList.add("hover"):A.currentTarget.classList.remove("hover"),this._executeCallback(A,"hover")},a._executeCallback=function(A,e){var t=this._getCallbacksByElement(A.currentTarget,e);if(t)for(var i=0;i<t.length;i++)t[i](A)},a._addCallback=function(A,e,t){var i=this._getIDByElement(A)||this._generateId();this._elements[i]=A,t instanceof Function&&(this._callbacks[i]=this._callbacks[i]||{},this._callbacks[i][e]=this._callbacks[i][e]||[],this._callbacks[i][e].push(t))},a._removeCallback=function(A,e,t){var i=this._getIDByElement(A),s=this._callbacks[i];if(s&&s[e]){var r=s[e].indexOf(t);s[e].splice(r,1),0===s[e].length&&(delete s[e],this._isEmpty(s)&&(delete this._callbacks[i],delete this._elements[i]))}},a._getIDByElement=function(A){for(var e in this._elements)if(this._elements.hasOwnProperty(e)&&this._elements[e]===A)return e},a._getCallbacksByElement=function(A,e){var t=this._getIDByElement(A);if(t)return this._callbacks[t][e]},a._generateId=function(){return(++s).toString()},a._isEmpty=function(A){for(var e in A)if(A.hasOwnProperty(e))return!1;return!0},e.exports=new o},{5:5,8:8}],2:[function(A,e,t){"use strict";function i(){this._createElements(),this._bindEvents()}var s=i.prototype;s._bindEvents=function(){this._onResize=this._resize.bind(this)},s._createElements=function(){this.span=document.createElement("span");var A=this.span.style;if(A.visibility="hidden",A.position="absolute",A.top="0",A.zIndex="-1",this.span.innerHTML="&nbsp;",!window.ResizeObserver){this.iframe=document.createElement("iframe");var e=this.iframe.style;e.position="absolute",e.top="0",e.left="0",e.width="100%",e.height="100%",this.span.appendChild(this.iframe)}document.body.appendChild(this.span)},s.detect=function(A){this.originalSize=A||17,this.currentSize=parseFloat(window.getComputedStyle(this.span)["font-size"]),this.currentSize>this.originalSize&&this._onResize(),this.isDetecting||(window.ResizeObserver?(this.resizeObserver=new ResizeObserver(this._onResize),this.resizeObserver.observe(this.span)):this.iframe.contentWindow.addEventListener("resize",this._onResize),this.isDetecting=!0)},s._resize=function(){this.currentSize=parseFloat(window.getComputedStyle(this.span)["font-size"]),this.originalSize<this.currentSize?document.documentElement.classList.add("text-zoom"):document.documentElement.classList.remove("text-zoom"),window.dispatchEvent(new Event("resize")),window.dispatchEvent(new CustomEvent("resize:text-zoom",{detail:this}))},s.getScale=function(){return this.currentSize/this.originalSize},s.remove=function(){this.isDetecting&&(this.resizeObserver&&this.resizeObserver.unobserve(this.span),this.iframe&&this.iframe.contentWindow.removeEventListener("resize",this._onResize),this.isDetecting=!1)},s.destroy=function(){this.remove(),this.span&&this.span.parentElement&&this.span.parentElement.removeChild(this.span),this.span=null,this.iframe=null,this.resizeObserver=null},e.exports=new i},{}],3:[function(A,e,t){"use strict";var i=A(4),s=function(){this.focusableSelectors=i.selectors},r=s.prototype;r.isFocusableElement=function(A,e,t){return!(e&&!this._isDisplayed(A))&&(i.nodeName[A.nodeName]?!A.disabled:!A.contentEditable||(t=t||parseFloat(A.getAttribute("tabindex")),!isNaN(t)))},r.isTabbableElement=function(A,e){if(e&&!this._isDisplayed(A))return!1;var t=A.getAttribute("tabindex");return t=parseFloat(t),isNaN(t)?this.isFocusableElement(A,e,t):t>=0},r._isDisplayed=function(A){var e=A.getBoundingClientRect();return(0!==e.top||0!==e.left||0!==e.width||0!==e.height)&&"hidden"!==window.getComputedStyle(A).visibility},r.getTabbableElements=function(A,e){for(var t=A.querySelectorAll(this.focusableSelectors),i=t.length,s=[],r=0;r<i;r++)this.isTabbableElement(t[r],e)&&s.push(t[r]);return s},r.getFocusableElements=function(A,e){for(var t=A.querySelectorAll(this.focusableSelectors),i=t.length,s=[],r=0;r<i;r++)this.isFocusableElement(t[r],e)&&s.push(t[r]);return s},e.exports=new s},{4:4}],4:[function(A,e,t){"use strict";e.exports={selectors:["input","select","textarea","button","optgroup","option","menuitem","fieldset","object","a[href]","[tabindex]","[contenteditable]"].join(","),nodeName:{INPUT:"input",SELECT:"select",TEXTAREA:"textarea",BUTTON:"button",OPTGROUP:"optgroup",OPTION:"option",MENUITEM:"menuitem",FIELDSET:"fieldset",OBJECT:"object",A:"a"}}},{}],5:[function(A,e,t){"use strict";e.exports=A(19)},{19:19}],6:[function(A,e,t){"use strict";var i=!1,s=window||self;try{i=!!s.localStorage.getItem("f7c9180f-5c45-47b4-8de4-428015f096c0")}catch(A){}e.exports=i},{}],7:[function(A,e,t){"use strict";var i=A(6);e.exports=function(A){return function(){if(i&&"object"==typeof window.console&&"function"==typeof console[A])return console[A].apply(console,Array.prototype.slice.call(arguments,0))}}},{6:6}],8:[function(A,e,t){"use strict";e.exports=A(7)("warn")},{7:7}],9:[function(A,e,t){"use strict";e.exports=function(A,e,t,i){return A.addEventListener?A.addEventListener(e,t,!!i):A.attachEvent("on"+e,t),A}},{}],10:[function(A,e,t){"use strict";e.exports=function(A,e,t,i){return A.removeEventListener?A.removeEventListener(e,t,!!i):A.detachEvent("on"+e,t),A}},{}],11:[function(A,e,t){"use strict";e.exports={EventEmitterMicro:A(12)}},{12:12}],12:[function(A,e,t){"use strict";function i(){this._events={}}var s=i.prototype;s.on=function(A,e){this._events[A]=this._events[A]||[],this._events[A].unshift(e)},s.once=function(A,e){var t=this;this.on(A,(function i(s){t.off(A,i),void 0!==s?e(s):e()}))},s.off=function(A,e){if(this.has(A)){if(1===arguments.length)return this._events[A]=null,void delete this._events[A];var t=this._events[A].indexOf(e);-1!==t&&this._events[A].splice(t,1)}},s.trigger=function(A,e){if(this.has(A))for(var t=this._events[A].length-1;t>=0;t--)void 0!==e?this._events[A][t](e):this._events[A][t]()},s.has=function(A){return A in this._events!=!1&&0!==this._events[A].length},s.destroy=function(){for(var A in this._events)this._events[A]=null;this._events=null},e.exports=i},{}],13:[function(A,e,t){e.exports=function(A){return A&&A.__esModule?A:{default:A}}},{}],14:[function(A,e,t){},{}],15:[function(A,e,t){"use strict";var i=A(11).EventEmitterMicro,s=A(9),r=A(10),n=A(20),o=A(17);function a(A){this._keysDown={},this._DOMKeyDown=this._DOMKeyDown.bind(this),this._DOMKeyUp=this._DOMKeyUp.bind(this),this._context=A||document,s(this._context,"keydown",this._DOMKeyDown,!0),s(this._context,"keyup",this._DOMKeyUp,!0),i.call(this)}var h=a.prototype=n(i.prototype);h.onDown=function(A,e){return this.on("keydown:"+A,e)},h.onceDown=function(A,e){return this.once("keydown:"+A,e)},h.offDown=function(A,e){return this.off("keydown:"+A,e)},h.onUp=function(A,e){return this.on("keyup:"+A,e)},h.onceUp=function(A,e){return this.once("keyup:"+A,e)},h.offUp=function(A,e){return this.off("keyup:"+A,e)},h.isDown=function(A){return A+="",this._keysDown[A]||!1},h.isUp=function(A){return!this.isDown(A)},h.destroy=function(){return r(this._context,"keydown",this._DOMKeyDown,!0),r(this._context,"keyup",this._DOMKeyUp,!0),this._keysDown=null,this._context=null,i.prototype.destroy.call(this),this},h._DOMKeyDown=function(A){var e=this._normalizeKeyboardEvent(A),t=e.keyCode+="";this._trackKeyDown(t),this.trigger("keydown:"+t,e)},h._DOMKeyUp=function(A){var e=this._normalizeKeyboardEvent(A),t=e.keyCode+="";this._trackKeyUp(t),this.trigger("keyup:"+t,e)},h._normalizeKeyboardEvent=function(A){return new o(A)},h._trackKeyUp=function(A){this._keysDown[A]&&(this._keysDown[A]=!1)},h._trackKeyDown=function(A){this._keysDown[A]||(this._keysDown[A]=!0)},e.exports=a},{10:10,11:11,17:17,20:20,9:9}],16:[function(A,e,t){"use strict";var i=A(15);e.exports=new i},{15:15}],17:[function(A,e,t){"use strict";var i=A(18),s=["keyLocation","keyIdentifier"];function r(A){var e;for(e in this.originalEvent=A,A)-1===s.indexOf(e)&&"function"!=typeof A[e]&&(this[e]=A[e]);this.keyCode||(this.keyCode=this._getKeyCode()),this.location=void 0!==this.originalEvent.location?this.originalEvent.location:this.originalEvent.keyLocation}r.prototype={preventDefault:function(){if("function"==typeof this.originalEvent.preventDefault)return this.originalEvent.preventDefault();this.originalEvent.returnValue=!1},stopPropagation:function(){return this.originalEvent.stopPropagation()},_getKeyCode:function(){return i[this.code]||-1}},e.exports=r},{18:18}],18:[function(A,e,t){"use strict";e.exports={Backspace:8,Tab:9,Enter:13,NumpadEnter:13,ShiftLeft:16,ShiftRight:16,ControlLeft:17,ControlRight:17,AltLeft:18,AltRight:18,CapsLock:20,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Delete:46,Digit0:48,Digit1:49,Digit2:50,Digit3:51,Digit4:52,Digit5:53,Digit6:54,Digit7:55,Digit8:56,Digit9:57,KeyA:65,KeyB:66,KeyC:67,KeyD:68,KeyE:69,KeyF:70,KeyG:71,KeyH:72,KeyI:73,KeyJ:74,KeyK:75,KeyL:76,KeyM:77,KeyN:78,KeyO:79,KeyP:80,KeyQ:81,KeyR:82,KeyS:83,KeyT:84,KeyU:85,KeyV:86,KeyW:87,KeyX:88,KeyY:89,KeyZ:90,Numpad0:96,Numpad1:97,Numpad2:98,Numpad3:99,Numpad4:100,Numpad5:101,Numpad6:102,Numpad7:103,Numpad8:104,Numpad9:105,NumpadMultiply:106,NumpadAdd:107,NumpadSubtract:109,NumpadDecimal:110,NumpadDivide:111,NumpadEqual:187,Backquote:192,BracketLeft:219,BracketRight:221,Backslash:220,Semicolon:186,Quote:222,Space:32,Equal:187,Comma:188,Minus:189,Period:190,Slash:191}},{}],19:[function(A,e,t){"use strict";e.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,COMMAND:91,CAPSLOCK:20,ESCAPE:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ASTERISK:106,NUMPAD_PLUS:107,NUMPAD_DASH:109,NUMPAD_DOT:110,NUMPAD_SLASH:111,NUMPAD_EQUALS:187,TICK:192,LEFT_BRACKET:219,RIGHT_BRACKET:221,BACKSLASH:220,SEMICOLON:186,APOSTRAPHE:222,APOSTROPHE:222,SPACEBAR:32,CLEAR:12,COMMA:188,DOT:190,SLASH:191}},{}],20:[function(A,e,t){"use strict";var i=function(){};e.exports=function(A){if(arguments.length>1)throw new Error("Second argument not supported");if(null===A||"object"!=typeof A)throw new TypeError("Object prototype may only be an Object.");return"function"==typeof Object.create?Object.create(A):(i.prototype=A,new i)}},{}],21:[function(A,e,t){"use strict";var i=A(36).SharedInstance,s=function(){this._currentID=0};s.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},e.exports=i.share("ac-raf-emitter-id-generator:sharedRAFEmitterIDGeneratorInstance","1.0.3",s)},{36:36}],22:[function(A,e,t){"use strict";e.exports={majorVersionNumber:"3.x"}},{}],23:[function(A,e,t){"use strict";var i,s=A(11).EventEmitterMicro,r=A(32),n=A(31);function o(A){A=A||{},s.call(this),this.id=n.getNewID(),this.executor=A.executor||r,this._reset(),this._willRun=!1,this._didDestroy=!1}(i=o.prototype=Object.create(s.prototype)).run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},i.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},i.destroy=function(){var A=this.willRun();return this.cancel(),this.executor=null,s.prototype.destroy.call(this),this._didDestroy=!0,A},i.willRun=function(){return this._willRun},i.isRunning=function(){return this._isRunning},i._subscribe=function(){return this.executor.subscribe(this)},i._unsubscribe=function(){return this.executor.unsubscribe(this)},i._onAnimationFrameStart=function(A){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",A))},i._onAnimationFrameEnd=function(A){this._willRun||(this.trigger("stop",A),this._reset())},i._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},e.exports=o},{11:11,31:31,32:32}],24:[function(A,e,t){"use strict";var i,s=A(12);function r(A){A=A||{},this._reset(),this.updatePhases(),this.eventEmitter=new s,this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}(i=r.prototype).frameRequestedPhase="requested",i.startPhase="start",i.runPhases=["update","external","draw"],i.endPhase="end",i.disabledPhase="disabled",i.beforePhaseEventPrefix="before:",i.afterPhaseEventPrefix="after:",i.subscribe=function(A,e){return this._totalSubscribeCount++,this._nextFrameSubscribers[A.id]||(e?this._nextFrameSubscribersOrder.unshift(A.id):this._nextFrameSubscribersOrder.push(A.id),this._nextFrameSubscribers[A.id]=A,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},i.subscribeImmediate=function(A,e){return this._totalSubscribeCount++,this._subscribers[A.id]||(e?this._subscribersOrder.splice(this._currentSubscriberIndex+1,0,A.id):this._subscribersOrder.unshift(A.id),this._subscribers[A.id]=A,this._subscriberArrayLength++,this._subscriberCount++),this._totalSubscribeCount},i.unsubscribe=function(A){return!!this._nextFrameSubscribers[A.id]&&(this._nextFrameSubscribers[A.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},i.getSubscribeID=function(){return this._totalSubscribeCount+=1},i.destroy=function(){var A=this._cancel();return this.eventEmitter.destroy(),this.eventEmitter=null,this.phases=null,this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,A},i.useExternalAnimationFrame=function(A){if("boolean"==typeof A){var e=this._isUsingExternalAnimationFrame;return A&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||A||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=A,A?this._boundOnExternalAnimationFrame:e||!1}},i.updatePhases=function(){this.phases||(this.phases=[]),this.phases.length=0,this.phases.push(this.frameRequestedPhase),this.phases.push(this.startPhase),Array.prototype.push.apply(this.phases,this.runPhases),this.phases.push(this.endPhase),this._runPhasesLength=this.runPhases.length,this._phasesLength=this.phases.length},i._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this.phase===this.disabledPhase&&(this.phaseIndex=0,this.phase=this.phases[this.phaseIndex]),!0},i._cancel=function(){var A=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,A=!0),this._isRunning||this._reset(),A},i._onAnimationFrame=function(A){for(this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this.phaseIndex=0,this.phase=this.phases[this.phaseIndex],this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=A-this.lastFrameTime,this.lastFrameTime=A,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=A,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameStart(this._rafData);for(this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._runPhaseIndex=0;this._runPhaseIndex<this._runPhasesLength;this._runPhaseIndex++){for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]].trigger(this.phase,this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase)}for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameEnd(this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._willRun?(this.phaseIndex=0,this.phaseIndex=this.phases[this.phaseIndex]):this._reset()},i._onExternalAnimationFrame=function(A){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(A)},i._reset=function(){this._rafData||(this._rafData={}),this._rafData.time=0,this._rafData.delta=0,this._rafData.fps=0,this._rafData.naturalFps=0,this._rafData.timeNow=0,this._subscribers={},this._subscribersOrder=[],this._currentSubscriberIndex=-1,this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0,this._runPhaseIndex=-1,this.phaseIndex=-1,this.phase=this.disabledPhase},e.exports=r},{12:12}],25:[function(A,e,t){"use strict";var i=A(27),s=function(A){this.phase=A,this.rafEmitter=new i,this._cachePhaseIndex(),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._onBeforeRAFExecutorStart=this._onBeforeRAFExecutorStart.bind(this),this._onBeforeRAFExecutorPhase=this._onBeforeRAFExecutorPhase.bind(this),this._onAfterRAFExecutorPhase=this._onAfterRAFExecutorPhase.bind(this),this.rafEmitter.on(this.phase,this._onRAFExecuted.bind(this)),this.rafEmitter.executor.eventEmitter.on("before:start",this._onBeforeRAFExecutorStart),this.rafEmitter.executor.eventEmitter.on("before:"+this.phase,this._onBeforeRAFExecutorPhase),this.rafEmitter.executor.eventEmitter.on("after:"+this.phase,this._onAfterRAFExecutorPhase),this._frameCallbacks=[],this._currentFrameCallbacks=[],this._nextFrameCallbacks=[],this._phaseActive=!1,this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._currentFrameCallbacksLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},r=s.prototype;r.requestAnimationFrame=function(A,e){return!0===e&&this.rafEmitter.executor.phaseIndex>0&&this.rafEmitter.executor.phaseIndex<=this.phaseIndex?this._phaseActive?(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!0),this._frameCallbacks.push(this._currentFrameID,A),this._frameCallbackLength+=2):(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!1),this._currentFrameCallbacks.push(this._currentFrameID,A),this._currentFrameCallbacksLength+=2):(this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,A),this._nextFrameCallbacksLength+=2),this._currentFrameID},r.cancelAnimationFrame=function(A){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(A),this._cancelFrameIdx>-1?this._cancelNextAnimationFrame():(this._cancelFrameIdx=this._currentFrameCallbacks.indexOf(A),this._cancelFrameIdx>-1?this._cancelCurrentAnimationFrame():(this._cancelFrameIdx=this._frameCallbacks.indexOf(A),this._cancelFrameIdx>-1&&this._cancelRunningAnimationFrame()))},r._onRAFExecuted=function(A){for(this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](A.time,A);this._frameCallbacks.length=0,this._frameCallbackLength=0},r._onBeforeRAFExecutorStart=function(){Array.prototype.push.apply(this._currentFrameCallbacks,this._nextFrameCallbacks.splice(0,this._nextFrameCallbacksLength)),this._currentFrameCallbacksLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks.length=0,this._nextFrameCallbacksLength=0},r._onBeforeRAFExecutorPhase=function(){this._phaseActive=!0,Array.prototype.push.apply(this._frameCallbacks,this._currentFrameCallbacks.splice(0,this._currentFrameCallbacksLength)),this._frameCallbackLength=this._currentFrameCallbacksLength,this._currentFrameCallbacks.length=0,this._currentFrameCallbacksLength=0},r._onAfterRAFExecutorPhase=function(){this._phaseActive=!1},r._cachePhaseIndex=function(){this.phaseIndex=this.rafEmitter.executor.phases.indexOf(this.phase)},r._cancelRunningAnimationFrame=function(){this._frameCallbacks.splice(this._cancelFrameIdx,2),this._frameCallbackLength-=2},r._cancelCurrentAnimationFrame=function(){this._currentFrameCallbacks.splice(this._cancelFrameIdx,2),this._currentFrameCallbacksLength-=2},r._cancelNextAnimationFrame=function(){this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel()},e.exports=s},{27:27}],26:[function(A,e,t){"use strict";var i=A(25),s=function(){this.events={}},r=s.prototype;r.requestAnimationFrame=function(A){return this.events[A]||(this.events[A]=new i(A)),this.events[A].requestAnimationFrame},r.cancelAnimationFrame=function(A){return this.events[A]||(this.events[A]=new i(A)),this.events[A].cancelAnimationFrame},e.exports=new s},{25:25}],27:[function(A,e,t){"use strict";var i=A(23),s=function(A){i.call(this,A)};(s.prototype=Object.create(i.prototype))._subscribe=function(){return this.executor.subscribe(this,!0)},e.exports=s},{23:23}],28:[function(A,e,t){"use strict";var i=A(26);e.exports=i.cancelAnimationFrame("update")},{26:26}],29:[function(A,e,t){"use strict";var i=A(26);e.exports=i.requestAnimationFrame("draw")},{26:26}],30:[function(A,e,t){"use strict";var i=A(26);e.exports=i.requestAnimationFrame("external")},{26:26}],31:[function(A,e,t){"use strict";var i=A(36).SharedInstance,s=A(22).majorVersionNumber,r=function(){this._currentID=0};r.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},e.exports=i.share("@marcom/ac-raf-emitter/sharedRAFEmitterIDGeneratorInstance",s,r)},{22:22,36:36}],32:[function(A,e,t){"use strict";var i=A(36).SharedInstance,s=A(22).majorVersionNumber,r=A(24);e.exports=i.share("@marcom/ac-raf-emitter/sharedRAFExecutorInstance",s,r)},{22:22,24:24,36:36}],33:[function(A,e,t){"use strict";var i=A(26);e.exports=i.requestAnimationFrame("update")},{26:26}],34:[function(A,e,t){"use strict";var i;function s(A){A=A||{},this._reset(),this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}A(14),(i=s.prototype).subscribe=function(A,e){return this._totalSubscribeCount++,this._nextFrameSubscribers[A.id]||(e?this._nextFrameSubscribersOrder.unshift(A.id):this._nextFrameSubscribersOrder.push(A.id),this._nextFrameSubscribers[A.id]=A,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},i.unsubscribe=function(A){return!!this._nextFrameSubscribers[A.id]&&(this._nextFrameSubscribers[A.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},i.trigger=function(A,e){var t;for(t=0;t<this._subscriberArrayLength;t++)null!==this._subscribers[this._subscribersOrder[t]]&&!1===this._subscribers[this._subscribersOrder[t]]._didDestroy&&this._subscribers[this._subscribersOrder[t]].trigger(A,e)},i.destroy=function(){var A=this._cancel();return this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,A},i.useExternalAnimationFrame=function(A){if("boolean"==typeof A){var e=this._isUsingExternalAnimationFrame;return A&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||A||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=A,A?this._boundOnExternalAnimationFrame:e||!1}},i._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),!0},i._cancel=function(){var A=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,A=!0),this._isRunning||this._reset(),A},i._onSubscribersAnimationFrameStart=function(A){var e;for(e=0;e<this._subscriberArrayLength;e++)null!==this._subscribers[this._subscribersOrder[e]]&&!1===this._subscribers[this._subscribersOrder[e]]._didDestroy&&this._subscribers[this._subscribersOrder[e]]._onAnimationFrameStart(A)},i._onSubscribersAnimationFrameEnd=function(A){var e;for(e=0;e<this._subscriberArrayLength;e++)null!==this._subscribers[this._subscribersOrder[e]]&&!1===this._subscribers[this._subscribersOrder[e]]._didDestroy&&this._subscribers[this._subscribersOrder[e]]._onAnimationFrameEnd(A)},i._onAnimationFrame=function(A){this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=A-this.lastFrameTime,this.lastFrameTime=A,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=A,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this._onSubscribersAnimationFrameStart(this._rafData),this.trigger("update",this._rafData),this.trigger("external",this._rafData),this.trigger("draw",this._rafData),this._onSubscribersAnimationFrameEnd(this._rafData),this._willRun||this._reset()},i._onExternalAnimationFrame=function(A){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(A)},i._reset=function(){this._rafData={time:0,delta:0,fps:0,naturalFps:0,timeNow:0},this._subscribers={},this._subscribersOrder=[],this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0},e.exports=s},{14:14}],35:[function(A,e,t){"use strict";var i=A(36).SharedInstance,s=A(34);e.exports=i.share("ac-raf-executor:sharedRAFExecutorInstance","2.0.1",s)},{34:34,36:36}],36:[function(A,e,t){"use strict";e.exports={SharedInstance:A(37)}},{37:37}],37:[function(A,e,t){"use strict";var i,s=window,r=s.AC,n=(i={},{get:function(A,e){var t=null;return i[A]&&i[A][e]&&(t=i[A][e]),t},set:function(A,e,t){return i[A]||(i[A]={}),i[A][e]="function"==typeof t?new t:t,i[A][e]},share:function(A,e,t){var i=this.get(A,e);return i||(i=this.set(A,e,t)),i},remove:function(A,e){var t=typeof e;if("string"!==t&&"number"!==t)i[A]&&(i[A]=null);else{if(!i[A]||!i[A][e])return;i[A][e]=null}}});r||(r=s.AC={}),r.SharedInstance||(r.SharedInstance=n),e.exports=r.SharedInstance},{}],38:[function(A,e,t){"use strict";class i{constructor(A={}){this.options=A,"loading"===document.readyState?document.addEventListener("readystatechange",A=>{"interactive"===document.readyState&&this._init()}):this._init()}_init(){if(this._images=Array.from(document.querySelectorAll("*[".concat(i.DATA_ATTRIBUTE,"]"))),this.AnimSystem=this._findAnim(),null===this.AnimSystem)return null;this._addKeyframesToImages()}_defineKeyframeOptions(A=null){const e=A.getAttribute(i.DATA_DOWNLOAD_AREA_KEYFRAME)||"{}";return Object.assign({},{start:"t - 200vh",end:"b + 100vh",event:"AnimLazyImage"},JSON.parse(e))}_addKeyframesToImages(){this._scrollGroup=this.AnimSystem.getGroupForTarget(document.body),this._images.forEach(A=>{this.AnimSystem.getGroupForTarget(A)&&(this._scrollGroup=this.AnimSystem.getGroupForTarget(A));let e=this._defineKeyframeOptions(A);this._scrollGroup.addKeyframe(A,e).controller.once("AnimLazyImage:enter",()=>{this._imageIsInLoadRange(A)})})}_cleanUpImageAttributes(A){let e=!1;try{e=this._scrollGroup.getControllerForTarget(A).getNearestKeyframeForAttribute("AnimLazyImage").isCurrentlyInRange}catch(A){e=!1}e||A.setAttribute(i.DATA_ATTRIBUTE,"")}_downloadingImageAttributes(A){A.removeAttribute(i.DATA_ATTRIBUTE)}_imageIsInLoadRange(A){this._downloadImage(A)}_downloadImage(A){this._downloadingImageAttributes(A)}_findAnim(){var A=Array.from(document.querySelectorAll("[data-anim-group],[data-anim-scroll-group],[data-anim-time-group]"));return A.map(A=>A._animInfo?A._animInfo.group:null).filter(A=>null!==A),A[0]&&A[0]._animInfo?A[0]._animInfo.group.anim:(console.error("AnimLazyImage: AnimSystem not found, please initialize anim before instantiating"),null)}}i.DATA_DOWNLOAD_AREA_KEYFRAME="data-download-area-keyframe",i.DATA_ATTRIBUTE="data-anim-lazy-image",e.exports=i},{}],39:[function(A,e,t){"use strict";e.exports={version:"3.5.2",major:"3.x",majorMinor:"3.5"}},{}],40:[function(A,e,t){"use strict";const i=A(11).EventEmitterMicro,s=A(47),r=A(42),n=A(43),o=A(45),a=A(63),h=A(64),l=A(65),c=A(39),u={};"undefined"!=typeof window&&(u.update=A(33),u.cancelUpdate=A(28),u.external=A(30),u.draw=A(29));let d=null;class m extends i{constructor(){if(super(),d)throw"You cannot create multiple AnimSystems. You probably want to create multiple groups instead. You can have unlimited groups on a page";d=this,this.groups=[],this.scrollSystems=[],this.timeSystems=[],this.tweenGroup=null,this._forceUpdateRAFId=-1,this.initialized=!1,this.model=s,this.plugins={keyframe:[],parser:[]},this.version=c.version,this._resolveReady=()=>{},this.ready=new Promise(A=>this._resolveReady=A),this.onScroll=this.onScroll.bind(this),this.onResizedDebounced=this.onResizedDebounced.bind(this),this.onResizeImmediate=this.onResizeImmediate.bind(this)}initialize(){return this.initialized||"undefined"==typeof window||(this.initialized=!0,this.timeSystems=[],this.scrollSystems=[],this.groups=[],this.setupEvents(),this.initializeResizeFilter(),this.initializeModel(),this.createDOMGroups(),this.createDOMKeyframes(),this.tweenGroup=new l(null,this),this.groups.unshift(this.tweenGroup),this._resolveReady()),this.ready}use(A,e){A.install(this,e)}remove(){return this.initialized?Promise.all(this.groups.map(A=>A.remove())).then(()=>{this.groups=null,this.scrollSystems=null,this.timeSystems=null,window.clearTimeout(s.RESIZE_TIMEOUT),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResizeImmediate),this._events={},this.initialized=!1,this.ready=new Promise(A=>this._resolveReady=A)}):(this.ready=new Promise(A=>this._resolveReady=A),Promise.resolve())}destroy(){return this.remove()}createTimeGroup(A,e){A instanceof HTMLElement||(A=(e=A||{}).el);let t=new h(A,this);return e&&e.name&&(t.name=e.name),this.groups.push(t),this.timeSystems.push(t),this.trigger(s.EVENTS.ON_GROUP_CREATED,t),t}createScrollGroup(A,e){if(!A)throw"AnimSystem scroll based groups must supply an HTMLElement";let t=new a(A,this);return(e=e||{}).name&&(t.name=e.name),e.getPosition&&e.getMaxPosition&&(t.getPosition=e.getPosition,t.createViewableRange=()=>({a:0,d:e.getMaxPosition()})),t.getPosition=e.getPosition||t.getPosition,t.getPosition=e.getPosition||t.getPosition,this.groups.push(t),this.scrollSystems.push(t),this.trigger(s.EVENTS.ON_GROUP_CREATED,t),t}removeGroup(A){return Promise.all(A.keyframeControllers.map(e=>A.removeKeyframeController(e))).then(()=>{let e=this.groups.indexOf(A);-1!==e&&this.groups.splice(e,1),e=this.scrollSystems.indexOf(A),-1!==e&&this.scrollSystems.splice(e,1),e=this.timeSystems.indexOf(A),-1!==e&&this.timeSystems.splice(e,1),A.destroy()})}createDOMGroups(){document.body.setAttribute("data-anim-scroll-group","body"),document.querySelectorAll("[data-anim-scroll-group]").forEach(A=>this.createScrollGroup(A)),document.querySelectorAll("[data-anim-time-group]").forEach(A=>this.createTimeGroup(A)),this.trigger(s.EVENTS.ON_DOM_GROUPS_CREATED,this.groups)}createDOMKeyframes(){let A=[];["data-anim-keyframe",r.DATA_ATTRIBUTE,n.DATA_ATTRIBUTE,o.DATA_ATTRIBUTE].forEach((function(e){for(let t=0;t<12;t++)A.push(e+(0===t?"":"-"+(t-1)))}));for(let e=0;e<A.length;e++){let t=A[e],i=document.querySelectorAll("["+t+"]");for(let A=0;A<i.length;A++){const e=i[A],s=JSON.parse(e.getAttribute(t));this.addKeyframe(e,s)}}u.update(()=>{null!==this.groups&&(this.groups.forEach(A=>A.onKeyframesDirty({silent:!0})),this.groups.forEach(A=>A.trigger(s.EVENTS.ON_DOM_KEYFRAMES_CREATED,A)),this.trigger(s.EVENTS.ON_DOM_KEYFRAMES_CREATED,this),this.groups.forEach(A=>{A.forceUpdate({waitForNextUpdate:!1,silent:!0}),A.reconcile()}),this.onScroll())},!0)}initializeResizeFilter(){if(s.cssDimensionsTracker)return;const A=document.querySelector(".cssDimensionsTracker")||document.createElement("div");A.setAttribute("cssDimensionsTracker","true"),A.style.position="fixed",A.style.top="0",A.style.width="100%",A.style.height="100vh",A.style.pointerEvents="none",A.style.visibility="hidden",A.style.zIndex="-1",document.documentElement.appendChild(A),s.cssDimensionsTracker=A}initializeModel(){s.pageMetrics.windowHeight=s.cssDimensionsTracker.clientHeight,s.pageMetrics.windowWidth=s.cssDimensionsTracker.clientWidth,s.pageMetrics.scrollY=window.scrollY||window.pageYOffset,s.pageMetrics.scrollX=window.scrollX||window.pageXOffset,s.pageMetrics.breakpoint=s.getBreakpoint();let A=document.documentElement.getBoundingClientRect();s.pageMetrics.documentOffsetX=A.left+s.pageMetrics.scrollX,s.pageMetrics.documentOffsetY=A.top+s.pageMetrics.scrollY}setupEvents(){window.removeEventListener("scroll",this.onScroll),window.addEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResizeImmediate),window.addEventListener("resize",this.onResizeImmediate)}onScroll(){s.pageMetrics.scrollY=window.scrollY||window.pageYOffset,s.pageMetrics.scrollX=window.scrollX||window.pageXOffset;for(let A=0,e=this.scrollSystems.length;A<e;A++)this.scrollSystems[A].updateTimeline();this.trigger(s.PageEvents.ON_SCROLL,s.pageMetrics)}onResizeImmediate(){let A=s.cssDimensionsTracker.clientWidth,e=s.cssDimensionsTracker.clientHeight;if(A===s.pageMetrics.windowWidth&&e===s.pageMetrics.windowHeight)return;s.pageMetrics.windowWidth=A,s.pageMetrics.windowHeight=e,s.pageMetrics.scrollY=window.scrollY||window.pageYOffset,s.pageMetrics.scrollX=window.scrollX||window.pageXOffset;let t=document.documentElement.getBoundingClientRect();s.pageMetrics.documentOffsetX=t.left+s.pageMetrics.scrollX,s.pageMetrics.documentOffsetY=t.top+s.pageMetrics.scrollY,window.clearTimeout(s.RESIZE_TIMEOUT),s.RESIZE_TIMEOUT=window.setTimeout(this.onResizedDebounced,250),this.trigger(s.PageEvents.ON_RESIZE_IMMEDIATE,s.pageMetrics)}onResizedDebounced(){u.update(()=>{let A=s.pageMetrics.breakpoint,e=s.getBreakpoint();if(e!==A){s.pageMetrics.previousBreakpoint=A,s.pageMetrics.breakpoint=e;for(let A=0,e=this.groups.length;A<e;A++)this.groups[A]._onBreakpointChange();this.trigger(s.PageEvents.ON_BREAKPOINT_CHANGE,s.pageMetrics)}for(let A=0,e=this.groups.length;A<e;A++)this.groups[A].forceUpdate({waitForNextUpdate:!1});this.trigger(s.PageEvents.ON_RESIZE_DEBOUNCED,s.pageMetrics)},!0)}forceUpdate({waitForNextUpdate:A=!0,silent:e=!1}={}){-1!==this._forceUpdateRAFId&&u.cancelUpdate(this._forceUpdateRAFId);let t=()=>{for(let A=0,t=this.groups.length;A<t;A++){this.groups[A].forceUpdate({waitForNextUpdate:!1,silent:e})}return-1};this._forceUpdateRAFId=A?u.update(t,!0):t()}addKeyframe(A,e){let t=this.getGroupForTarget(A);return t=t||this.getGroupForTarget(document.body),t.addKeyframe(A,e)}addEvent(A,e){let t=this.getGroupForTarget(A);return t=t||this.getGroupForTarget(document.body),t.addEvent(A,e)}getTimeGroupForTarget(A){return this._getGroupForTarget(A,A=>A instanceof h)}getScrollGroupForTarget(A){return this._getGroupForTarget(A,A=>!(A instanceof h))}getGroupForTarget(A){return this._getGroupForTarget(A,()=>!0)}getGroupByName(A){return this.groups.find(e=>e.name===A)}_getGroupForTarget(A,e){if(A._animInfo&&A._animInfo.group&&e(A._animInfo.group))return A._animInfo.group;let t=A;for(;t;){if(t._animInfo&&t._animInfo.isGroup&&e(t._animInfo.group))return t._animInfo.group;t=t.parentElement}}getControllerForTarget(A){return A._animInfo&&A._animInfo.controller?A._animInfo.controller:null}addTween(A,e){return this.tweenGroup.addKeyframe(A,e)}}e.exports="undefined"==typeof window?new m:window.AC.SharedInstance.share("AnimSystem",c.major,m),e.exports.default=e.exports},{11:11,28:28,29:29,30:30,33:33,39:39,42:42,43:43,45:45,47:47,63:63,64:64,65:65}],41:[function(A,e,t){"use strict";const i=A(47);class s{constructor(A,e){this._index=0,this.keyframe=A,e&&(this.name=e)}get start(){return this.keyframe.jsonProps.start}set index(A){this._index=A}get index(){return this._index}}e.exports=class{constructor(A){this.timeGroup=A,this.chapters=[],this.chapterNames={},this.currentChapter=null,this.tween=null}addChapter(A){const{position:e,name:t}=A;if(void 0===e)throw ReferenceError("Cannot add chapter without target position.");A._impIsFirst||0!==this.chapters.length||this.addChapter({position:0,_impIsFirst:!0});let i=this.timeGroup.addKeyframe(this,{start:e,end:e,event:"Chapter"});this.timeGroup.forceUpdate({waitForNextFrame:!1,silent:!0});const r=new s(i,t);if(this.chapters.push(r),t){if(this.chapterNames.hasOwnProperty(t))throw ReferenceError('Duplicate chapter name assigned - "'.concat(t,'" is already in use'));this.chapterNames[t]=r}return this.chapters.sort((A,e)=>A.start-e.start).forEach((A,e)=>A.index=e),this.currentChapter=this.currentChapter||this.chapters[0],r}playToChapter(A){let e;if(A.hasOwnProperty("index"))e=this.chapters[A.index];else{if(!A.hasOwnProperty("name"))throw ReferenceError("Cannot play to chapter without target index or name");e=this.chapterNames[A.name]}if(!e||this.currentChapter===e&&!0!==A.force)return;let t=A.ease||"easeInOutCubic";this.tween&&this.tween.controller&&(this.tween.remove(),t="easeOutQuint"),this.timeGroup.timeScale(A.timeScale||1);const s=void 0!==A.duration?A.duration:this.getDurationToChapter(e),r=this.timeGroup.time(),n=e.start;let o=!1;this.tween=this.timeGroup.anim.addTween({time:r},{easeFunction:t,duration:s,time:[r,n],onStart:()=>this.timeGroup.trigger(i.EVENTS.ON_CHAPTER_INITIATED,{player:this,next:e}),onDraw:A=>{let t=A.tweenProps.time.current;this.timeGroup.time(t),A.keyframe.curvedT>.5&&!o&&(o=!0,this.currentIndex=e.index,this.currentChapter=e,this.timeGroup.trigger(i.EVENTS.ON_CHAPTER_OCCURRED,{player:this,current:e}))},onComplete:()=>{this.timeGroup.trigger(i.EVENTS.ON_CHAPTER_COMPLETED,{player:this,current:e}),this.timeGroup.paused(!0),this.tween=null}})}getDurationToChapter(A){const e=this.chapters[A.index-1]||this.chapters[A.index+1];return Math.abs(e.start-A.start)}}},{47:47}],42:[function(A,e,t){"use strict";const i=A(47),s=A(55),r=A(48),n=A(90),o=A(49),a=A(58),h=A(54),l=A(66),c=A(68),u=A(67),d=A(57),{cssAttributes:m}=A(60);class g{constructor(A,e){this.controller=A,this.anchors=[],this.jsonProps=e,this.ease=A.group.defaultEase,this.easeFunction=o.linear,this.start=0,this.end=0,this.localT=0,this.curvedT=0,this.id=0,this.event="",this.needsEventDispatch=!1,this.snapAtCreation=!1,this.isEnabled=!1,this.animValues={},this.breakpointMask=i.KeyframeDefaults.breakpointMask,this.disabledWhen=[],this.keyframeType=i.KeyframeTypes.Interpolation,this.hold=!1,this.preserveState=!1,this.markedForRemoval=!1;let t=!1;Object.defineProperty(this,"hidden",{get:()=>t,set(e){t=e,A.group.keyframesDirty=!0}}),this.uuid=d(),this.destroyed=!1}destroy(){this.destroyed=!0,this.controller=null,this.disabledWhen=null,this.anchors=null,this.jsonProps=null,this.easeFunction=null,this.animValues=null}remove(){return this.controller.removeKeyframe(this)}parseOptions(A){this.jsonProps=A,A.relativeTo&&console.error("KeyframeError: relativeTo has been removed. Use 'anchors' property instead. Found 'relativeTo':\"".concat(A.relativeTo,'"')),void 0===A.end&&void 0===A.duration&&(A.end=A.start),""!==A.anchors&&A.anchors?(this.anchors=[],A.anchors=Array.isArray(A.anchors)?A.anchors:[A.anchors],A.anchors.forEach((e,t)=>{let i=c(e,this.controller.group.element);if(!i){let i="";return"string"==typeof e&&(i=" Provided value was a string, so a failed attempt was made to find anchor with the provided querystring in group.element, or in the document."),void console.warn("Keyframe on",this.controller.element," failed to find anchor at index ".concat(t," in array"),A.anchors,". Anchors must be JS Object references, Elements references, or valid query selector strings. ".concat(i))}this.anchors.push(i),this.controller.group.metrics.add(i)})):(this.anchors=[],A.anchors=[]),A.ease?this.ease=parseFloat(A.ease):A.ease=this.ease,A.hasOwnProperty("snapAtCreation")?this.snapAtCreation=A.snapAtCreation:A.snapAtCreation=this.snapAtCreation,A.easeFunction||(A.easeFunction=i.KeyframeDefaults.easeFunctionString),A.breakpointMask?this.breakpointMask=A.breakpointMask:A.breakpointMask=this.breakpointMask,A.disabledWhen?this.disabledWhen=Array.isArray(A.disabledWhen)?A.disabledWhen:[A.disabledWhen]:A.disabledWhen=this.disabledWhen,A.hasOwnProperty("hold")?this.hold=A.hold:A.hold=this.hold,A.hasOwnProperty("preserveState")?this.preserveState=A.preserveState:A.preserveState=i.KeyframeDefaults.preserveState,this.easeFunction=o[A.easeFunction],o.hasOwnProperty(A.easeFunction)||(A.easeFunction.includes("bezier")?this.easeFunction=a.fromCSSString(A.easeFunction):A.easeFunction.includes("spring")?this.easeFunction=h.fromCSSString(A.easeFunction):console.error("Keyframe parseOptions cannot find 'easeFunction' named '"+A.easeFunction+"'"));for(let e in A){if(-1!==i.KeyframeJSONReservedWords.indexOf(e))continue;let t=A[e];if(Array.isArray(t)){if(1===t.length&&(t[1]=t[0],t[0]=null),void 0===this.controller.tweenProps[e]||!this.controller._ownerIsElement){let n=0;this.controller._ownerIsElement||(n=this.controller.element[e]||0);const o=e.startsWith("--");let a=t[2]||(o||["opacity","z-index","font-weight","zIndex","fontWeight"].includes(e)?void 0:"px"),h=this.controller.group.anim.plugins.keyframe.reduce((t,i)=>t||i.parseProp.call(this,A,e),null);if(!h&&this.controller._ownerIsElement&&(o||m.includes(e))){let t=u(e),s=A.round||["zIndex"].includes(t);n=parseFloat(this.controller.getTargetComputedStyle().getPropertyValue(t)),isNaN(n)&&(n=0),h=new r(n,i.KeyframeDefaults.epsilon,this.snapAtCreation,e,s,a),this.controller.cssAttributes.push(h)}h||(h=new s(n,i.KeyframeDefaults.epsilon,this.snapAtCreation,e,A.round,a)),this.controller.tweenProps[e]=h}this.animValues[e]=this.controller.group.expressionParser.parseArray(this,t),this.controller.tweenProps[e].calculateEpsilon(A,this.animValues[e])}}this.keyframeType=this.hold?i.KeyframeTypes.InterpolationForward:i.KeyframeTypes.Interpolation,A.event&&(this.event=A.event)}overwriteProps(A){this.animValues={};let e=Object.assign({},this.jsonProps,A);this.controller.updateKeyframe(this,e)}updateLocalProgress(A){if(this.start===this.end||A<this.start||A>this.end)return this.localT=A<this.start?this.hold?this.localT:0:A>this.end?1:0,void(this.curvedT=this.easeFunction(this.localT));const e=(A-this.start)/(this.end-this.start),t=this.hold?this.localT:0;this.localT=n.clamp(e,t,1),this.curvedT=this.easeFunction(this.localT)}reconcile(A){this.controller.tweenProps[A].reconcile(this.animValues[A],this.curvedT)&&(this.needsEventDispatch||(this.needsEventDispatch=!0,this.controller.keyframesRequiringDispatch.push(this)))}reset(A){this.localT=A||0;let e=this.ease;this.ease=1;for(let A in this.animValues)this.reconcile(A);this.ease=e}onDOMRead(A){let e=this.controller.tweenProps[A].update(this.animValues[A],this.curvedT,this.ease);return""===this.event||this.needsEventDispatch||e&&(this.needsEventDispatch=!0,this.controller.keyframesRequiringDispatch.push(this)),e}isInRange(A){return A>=this.start&&A<=this.end}setEnabled(A){A=A||l(Array.from(document.documentElement.classList));let e=-1!==this.breakpointMask.indexOf(i.pageMetrics.breakpoint),t=!1;return this.disabledWhen.length>0&&(t=this.disabledWhen.some(e=>void 0!==A[e])),this.isEnabled=e&&!t,this.isEnabled}evaluateConstraints(){this.start=this.controller.group.expressionParser.parseTimeValue(this,this.jsonProps.start),this.end=this.controller.group.expressionParser.parseTimeValue(this,this.jsonProps.end),this.evaluateInterpolationConstraints()}evaluateInterpolationConstraints(){for(let A in this.animValues){let e=this.jsonProps[A];this.animValues[A]=this.controller.group.expressionParser.parseArray(this,e)}}}g.DATA_ATTRIBUTE="data-anim-tween",e.exports=g},{47:47,48:48,49:49,54:54,55:55,57:57,58:58,60:60,66:66,67:67,68:68,90:90}],43:[function(A,e,t){"use strict";const i=A(42),s=A(47),r=A(55);class n extends i{constructor(A,e){super(A,e),this.keyframeType=s.KeyframeTypes.CSSClass,this._triggerType=n.TRIGGER_TYPE_CSS_CLASS,this.cssClass="",this.friendlyName="",this.style={on:null,off:null},this.toggle=s.KeyframeDefaults.toggle,this.isApplied=!1}parseOptions(A){if(!this.controller._ownerIsElement)throw new TypeError("CSS Keyframes cannot be applied to JS Objects");if(A.x=void 0,A.y=void 0,A.z=void 0,A.scale=void 0,A.scaleX=void 0,A.scaleY=void 0,A.rotationX=void 0,A.rotationY=void 0,A.rotationZ=void 0,A.rotation=void 0,A.opacity=void 0,A.hold=void 0,void 0!==A.toggle&&(this.toggle=A.toggle),void 0!==A.cssClass)this._triggerType=n.TRIGGER_TYPE_CSS_CLASS,this.cssClass=A.cssClass,this.friendlyName="."+this.cssClass,void 0===this.controller.tweenProps.targetClasses&&(this.controller.tweenProps.targetClasses={add:[],remove:[]});else{if(void 0===A.style||!this.isValidStyleProperty(A.style))throw new TypeError("KeyframeCSSClass no 'cssClass` property found. If using `style` property its also missing or invalid");if(this._triggerType=n.TRIGGER_TYPE_STYLE_PROPERTY,this.style=A.style,this.friendlyName="style",this.toggle=void 0!==this.style.off||this.toggle,this.toggle&&void 0===this.style.off){this.style.off={};for(let A in this.style.on)this.style.off[A]=""}void 0===this.controller.tweenProps.targetStyles&&(this.controller.tweenProps.targetStyles={})}if(void 0===A.end&&(A.end=A.start),A.toggle=this.toggle,this._triggerType===n.TRIGGER_TYPE_CSS_CLASS)this.isApplied=this.controller.element.classList.contains(this.cssClass);else{let A=getComputedStyle(this.controller.element);this.isApplied=!0;for(let e in this.style.on)if(A[e]!==this.style.on[e]){this.isApplied=!1;break}}i.prototype.parseOptions.call(this,A),this.animValues[this.friendlyName]=[0,0],void 0===this.controller.tweenProps[this.friendlyName]&&(this.controller.tweenProps[this.friendlyName]=new r(0,1,!1,this.friendlyName)),this.keyframeType=s.KeyframeTypes.CSSClass}updateLocalProgress(A){this.isApplied&&!this.toggle||(this.start!==this.end?!this.isApplied&&A>=this.start&&A<=this.end?this._apply():this.isApplied&&this.toggle&&(A<this.start||A>this.end)&&this._unapply():!this.isApplied&&A>=this.start?this._apply():this.isApplied&&this.toggle&&A<this.start&&this._unapply())}_apply(){if(this._triggerType===n.TRIGGER_TYPE_CSS_CLASS)this.controller.tweenProps.targetClasses.add.push(this.cssClass),this.controller.needsClassUpdate=!0;else{for(let A in this.style.on)this.controller.tweenProps.targetStyles[A]=this.style.on[A];this.controller.needsStyleUpdate=!0}this.isApplied=!0}_unapply(){if(this._triggerType===n.TRIGGER_TYPE_CSS_CLASS)this.controller.tweenProps.targetClasses.remove.push(this.cssClass),this.controller.needsClassUpdate=!0;else{for(let A in this.style.off)this.controller.tweenProps.targetStyles[A]=this.style.off[A];this.controller.needsStyleUpdate=!0}this.isApplied=!1}isValidStyleProperty(A){if(!A.hasOwnProperty("on"))return!1;if("object"!=typeof A.on)throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:'hidden', otherProperty: 'value'}}");if(this.toggle&&A.hasOwnProperty("off")&&"object"!=typeof A.off)throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:'hidden', otherProperty: 'value'}}");return!0}reconcile(A){}onDOMRead(A){}evaluateInterpolationConstraints(){}}n.TRIGGER_TYPE_CSS_CLASS=0,n.TRIGGER_TYPE_STYLE_PROPERTY=1,n.DATA_ATTRIBUTE="data-anim-classname",e.exports=n},{42:42,47:47,55:55}],44:[function(A,e,t){"use strict";const i=A(47),s=A(55),r=(A(48),A(51)),n=A(46),o=(A(42),A(43)),a=A(52),h=A(66),l=A(57),c=A(11).EventEmitterMicro,u=A(83),d={};"undefined"!=typeof window&&(d.update=A(33),d.external=A(30),d.draw=A(29));const{transformAttributes:m,cssAttributes:g,domAttributes:p}=A(60),f=Math.PI/180,I={create:A(96),rotateX:A(97),rotateY:A(98),rotateZ:A(99),scale:A(100)};e.exports=class extends c{constructor(A,e){super(),this._events.draw=[],this.uuid=l(),this.group=A,this.element=e,this._ownerIsElement=this.element instanceof Element,this._ownerIsElement?this.friendlyName=this.element.tagName+"."+Array.from(this.element.classList).join("."):this.friendlyName=this.element.friendlyName||this.uuid,this.element._animInfo=this.element._animInfo||new n(A,this),this.element._animInfo.controller=this,this.element._animInfo.group=this.group,this.element._animInfo.controllers.push(this),this.tweenProps=this.element._animInfo.tweenProps,this.eventObject=new r(this),this.needsStyleUpdate=!1,this.needsClassUpdate=!1,this.elementMetrics=this.group.metrics.add(this.element),this.attributes=[],this.cssAttributes=[],this.domAttributes=[],this.keyframes={},this._allKeyframes=[],this._activeKeyframes=[],this.keyframesRequiringDispatch=[],this.updateCachedValuesFromElement(),this.boundsMin=0,this.boundsMax=0,this.mat2d=new Float32Array(6),this.mat4=I.create(),this.needsWrite=!0,this.onDOMWriteImp=this._ownerIsElement?this.onDOMWriteForElement:this.onDOMWriteForObject}destroy(){if(this.element._animInfo){this.element._animInfo.controller===this&&(this.element._animInfo.controller=null);let A=this.element._animInfo.controllers.indexOf(this);if(-1!==A&&this.element._animInfo.controllers.splice(A,1),0===this.element._animInfo.controllers.length)this.element._animInfo=null;else{let A=this.element._animInfo.controllers.find(A=>A.group!==A.group.anim.tweenGroup);A&&(this.element._animInfo.controller=A,this.element._animInfo.group=A.group)}}this.eventObject.controller=null,this.eventObject.element=null,this.eventObject.keyframe=null,this.eventObject.tweenProps=null,this.eventObject=null,this.elementMetrics=null,this.group=null,this.keyframesRequiringDispatch=null;for(let A=0;A<this._allKeyframes.length;A++)this._allKeyframes[A].destroy();this._allKeyframes=null,this._activeKeyframes=null,this.attributes=null,this.keyframes=null,this.element=null,this.tweenProps=null,this.destroyed=!0,super.destroy()}remove(){return this.group.removeKeyframeController(this)}updateCachedValuesFromElement(){if(!this._ownerIsElement)return;const A=this.getTargetComputedStyle(!0);let e=new DOMMatrix(A.getPropertyValue("transform")),t=u(e),r=i.KeyframeDefaults.epsilon;["x","y","z"].forEach((A,e)=>{this.tweenProps[A]=new s(t.translation[e],r,!1,A)}),this.tweenProps.rotation=new s(t.rotation[2],r,!1,"rotation"),["rotationX","rotationY","rotationZ"].forEach((A,e)=>{this.tweenProps[A]=new s(t.rotation[e],r,!1,A)}),this.tweenProps.scale=new s(t.scale[0],r,!1,"scale"),["scaleX","scaleY","scaleZ"].forEach((A,e)=>{this.tweenProps[A]=new s(t.scale[e],r,!1,A)}),p.forEach(A=>{let e=isNaN(this.element[A])?0:this.element[A];this.tweenProps[A]=new s(e,r,!1,A,!1)})}addKeyframe(A){let e=a(A);if(!e)throw new Error("AnimSystem Cannot create keyframe for from options `"+A+"`");let t=new e(this,A);return t.parseOptions(A),t.id=this._allKeyframes.length,this._allKeyframes.push(t),t}needsUpdate(){for(let A=0,e=this.attributes.length;A<e;A++){let e=this.attributes[A];if(this.tweenProps[e].needsUpdate())return!0}return!1}updateLocalProgress(A){for(let e=0,t=this.attributes.length;e<t;e++){let t=this.attributes[e],i=this.keyframes[this.attributes[e]];if(1===i.length){i[0].updateLocalProgress(A);continue}let s=this.getNearestKeyframeForAttribute(t,A);s&&s.updateLocalProgress(A)}}reconcile(){for(let A=0,e=this.attributes.length;A<e;A++){let e=this.attributes[A],t=this.getNearestKeyframeForAttribute(e,this.group.position.local);t.updateLocalProgress(this.group.position.local),t.snapAtCreation&&t.reconcile(e)}}determineActiveKeyframes(A){A=A||h(Array.from(document.documentElement.classList));let e=this._activeKeyframes,t=this.attributes,i={};this._activeKeyframes=[],this.attributes=[],this.keyframes={};for(let e=0;e<this._allKeyframes.length;e++){let t=this._allKeyframes[e];if(t.markedForRemoval||t.hidden||!t.setEnabled(A))for(let A in t.animValues)this.tweenProps[A].isActive=t.preserveState,t.preserveState&&(i[A]=!0);else{this._activeKeyframes.push(t);for(let A in t.animValues)this.keyframes[A]=this.keyframes[A]||[],this.keyframes[A].push(t),-1===this.attributes.indexOf(A)&&(i[A]=!0,this.attributes.push(A),this.tweenProps[A].isActive=!0)}}this.attributes.forEach(A=>this.tweenProps[A].isActive=!0),this.cssAttributes=this.attributes.filter(A=>g.includes(A)||A.startsWith("--")).map(A=>this.tweenProps[A]),this.domAttributes=this.attributes.filter(A=>p.includes(A)).map(A=>this.tweenProps[A]);let s=e.filter(A=>-1===this._activeKeyframes.indexOf(A));if(0===s.length)return;let r=t.filter(A=>-1===this.attributes.indexOf(A)&&!i.hasOwnProperty(A));if(0!==r.length)if(this.needsWrite=!0,this._ownerIsElement)d.external(()=>{let A=r.some(A=>m.includes(A)),e=A&&Object.keys(i).some(A=>m.includes(A));A&&!e&&this.element.style.removeProperty("transform");for(let A=0,e=r.length;A<e;++A){let e=r[A],t=this.tweenProps[e],i=t.isActive?t.target:t.initialValue;t.current=t.target=i,!t.isActive&&g.includes(e)&&(this.element.style[e]=null)}for(let A=0,e=s.length;A<e;++A){let e=s[A];e instanceof o&&!e.preserveState&&e._unapply()}},!0);else for(let A=0,e=r.length;A<e;++A){let e=this.tweenProps[r[A]];e.current=e.target,e.isActive=!1}}onDOMRead(A){for(let e=0,t=this.attributes.length;e<t;e++){let t=this.attributes[e],i=this.getNearestKeyframeForAttribute(t,A);i&&i.onDOMRead(t)&&(this.needsWrite=!0)}}onDOMWrite(){(this.needsWrite||this.needsClassUpdate||this.needsStyleUpdate)&&(this.needsWrite=!1,this.onDOMWriteImp(),this.handleEventDispatch())}onDOMWriteForObject(){for(let A=0,e=this.attributes.length;A<e;A++){let e=this.attributes[A];this.element[e]=this.tweenProps[e].current}}onDOMWriteForElement(A=this.element.style){this.handleStyleTransform(A);for(let e=0,t=this.cssAttributes.length;e<t;e++)this.cssAttributes[e].set(A);for(let A=0,e=this.domAttributes.length;A<e;A++)this.domAttributes[A].set(this.element);if(this.needsStyleUpdate){for(let A in this.tweenProps.targetStyles)null!==this.tweenProps.targetStyles[A]&&(this.element.style[A]=this.tweenProps.targetStyles[A]),this.tweenProps.targetStyles[A]=null;this.needsStyleUpdate=!1}this.needsClassUpdate&&(this.tweenProps.targetClasses.add.length>0&&this.element.classList.add.apply(this.element.classList,this.tweenProps.targetClasses.add),this.tweenProps.targetClasses.remove.length>0&&this.element.classList.remove.apply(this.element.classList,this.tweenProps.targetClasses.remove),this.tweenProps.targetClasses.add.length=0,this.tweenProps.targetClasses.remove.length=0,this.needsClassUpdate=!1)}handleStyleTransform(A=this.element.style){let e=this.tweenProps;if(e.z.isActive||e.rotationX.isActive||e.rotationY.isActive){const t=this.mat4;t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1;const i=e.x.current,s=e.y.current,r=e.z.current;if(t[12]=t[0]*i+t[4]*s+t[8]*r+t[12],t[13]=t[1]*i+t[5]*s+t[9]*r+t[13],t[14]=t[2]*i+t[6]*s+t[10]*r+t[14],t[15]=t[3]*i+t[7]*s+t[11]*r+t[15],0!==e.rotation.current||0!==e.rotationZ.current){const A=(e.rotation.current||e.rotationZ.current)*f;I.rotateZ(t,t,A)}if(0!==e.rotationX.current){const A=e.rotationX.current*f;I.rotateX(t,t,A)}if(0!==e.rotationY.current){const A=e.rotationY.current*f;I.rotateY(t,t,A)}1===e.scale.current&&1===e.scaleX.current&&1===e.scaleY.current||I.scale(t,t,[e.scale.current,e.scale.current,1]),A.transform="matrix3d("+t[0]+","+t[1]+","+t[2]+","+t[3]+","+t[4]+","+t[5]+","+t[6]+","+t[7]+","+t[8]+","+t[9]+","+t[10]+","+t[11]+","+t[12]+","+t[13]+","+t[14]+","+t[15]+")"}else if(e.x.isActive||e.y.isActive||e.rotation.isActive||e.rotationZ.isActive||e.scale.isActive||e.scaleX.isActive||e.scaleY.isActive){const t=this.mat2d;t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0;const i=e.x.current,s=e.y.current,r=t[0],n=t[1],o=t[2],a=t[3],h=t[4],l=t[5];if(t[0]=r,t[1]=n,t[2]=o,t[3]=a,t[4]=r*i+o*s+h,t[5]=n*i+a*s+l,0!==e.rotation.current||0!==e.rotationZ.current){const A=(e.rotation.current||e.rotationZ.current)*f,i=t[0],s=t[1],r=t[2],n=t[3],o=t[4],a=t[5],h=Math.sin(A),l=Math.cos(A);t[0]=i*l+r*h,t[1]=s*l+n*h,t[2]=i*-h+r*l,t[3]=s*-h+n*l,t[4]=o,t[5]=a}e.scaleX.isActive||e.scaleY.isActive?(t[0]=t[0]*e.scaleX.current,t[1]=t[1]*e.scaleX.current,t[2]=t[2]*e.scaleY.current,t[3]=t[3]*e.scaleY.current):(t[0]=t[0]*e.scale.current,t[1]=t[1]*e.scale.current,t[2]=t[2]*e.scale.current,t[3]=t[3]*e.scale.current),A.transform="matrix("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}}handleEventDispatch(){if(0!==this.keyframesRequiringDispatch.length){for(let A=0,e=this.keyframesRequiringDispatch.length;A<e;A++){let e=this.keyframesRequiringDispatch[A];e.needsEventDispatch=!1,this.eventObject.keyframe=e,this.eventObject.pageMetrics=i.pageMetrics,this.eventObject.event=e.event,this.trigger(e.event,this.eventObject)}this.keyframesRequiringDispatch.length=0}if(0!==this._events.draw.length){this.eventObject.keyframe=null,this.eventObject.event="draw";for(let A=this._events.draw.length-1;A>=0;A--)this._events.draw[A](this.eventObject)}}updateAnimationConstraints(){for(let A=0,e=this._activeKeyframes.length;A<e;A++)this._activeKeyframes[A].evaluateConstraints();this.attributes.forEach(A=>{1!==this.keyframes[A].length&&this.keyframes[A].sort(i.KeyframeComparison)}),this.updateDeferredPropertyValues()}refreshMetrics(){let A=new Set([this.element]);this._allKeyframes.forEach(e=>e.anchors.forEach(e=>A.add(e))),this.group.metrics.refreshCollection(A),this.group.keyframesDirty=!0}getTargetComputedStyle(A=!1){return this._ownerIsElement?((A||void 0===this.group.computedStyleCache[this.uuid])&&(this.group.computedStyleCache[this.uuid]=getComputedStyle(this.element)),this.group.computedStyleCache[this.uuid]):null}updateDeferredPropertyValues(){for(let A=0,e=this.attributes.length;A<e;A++){let e=this.attributes[A],t=this.keyframes[e];if(!(t[0].keyframeType>i.KeyframeTypes.InterpolationForward))for(let A=0,i=t.length;A<i;A++){let s=t[A];null===s.jsonProps[e][0]&&(0===A?s.jsonProps[e][0]=s.animValues[e][0]=this.tweenProps[e].current:s.animValues[e][0]=t[A-1].animValues[e][1]),null===s.jsonProps[e][1]&&(s.animValues[e][1]=A===i-1?this.tweenProps[e].current:t[A+1].animValues[e][0]),s.snapAtCreation&&(s.jsonProps[e][0]=s.animValues[e][0],s.jsonProps[e][1]=s.animValues[e][1])}}}getBounds(A){this.boundsMin=Number.MAX_VALUE,this.boundsMax=-Number.MAX_VALUE;for(let e=0,t=this.attributes.length;e<t;e++){let t=this.keyframes[this.attributes[e]];for(let e=0;e<t.length;e++){let i=t[e];this.boundsMin=Math.min(i.start,this.boundsMin),this.boundsMax=Math.max(i.end,this.boundsMax),A.min=Math.min(i.start,A.min),A.max=Math.max(i.end,A.max)}}}getNearestKeyframeForAttribute(A,e){e=void 0!==e?e:this.group.position.local;let t=null,i=Number.POSITIVE_INFINITY,s=this.keyframes[A];if(void 0===s)return null;let r=s.length;if(0===r)return null;if(1===r)return s[0];for(let A=0;A<r;A++){let r=s[A];if(r.isInRange(e)){t=r;break}let n=Math.min(Math.abs(e-r.start),Math.abs(e-r.end));n<i&&(i=n,t=r)}return t}getAllKeyframesForAttribute(A){return this.keyframes[A]}updateKeyframe(A,e){A.parseOptions(e),A.evaluateConstraints(),this.group.keyframesDirty=!0,d.update(()=>{this.trigger(i.EVENTS.ON_KEYFRAME_UPDATED,A),this.group.trigger(i.EVENTS.ON_KEYFRAME_UPDATED,A)},!0)}removeKeyframe(A){return A.controller!==this?Promise.resolve(null):(A.markedForRemoval=!0,this.group.keyframesDirty=!0,new Promise(e=>{this.group.rafEmitter.executor.eventEmitter.once("before:draw",()=>{e(A),A.destroy();let t=this._allKeyframes.indexOf(A);-1!==t&&this._allKeyframes.splice(t,1)})}))}updateAnimation(A,e){return this.group.gui&&console.warn("KeyframeController.updateAnimation(keyframe,props) has been deprecated. Please use updateKeyframe(keyframe,props)"),this.updateKeyframe(A,e)}}},{100:100,11:11,29:29,30:30,33:33,42:42,43:43,46:46,47:47,48:48,51:51,52:52,55:55,57:57,60:60,66:66,83:83,96:96,97:97,98:98,99:99}],45:[function(A,e,t){"use strict";const i=A(42),s=A(47),r=A(55);class n extends i{constructor(A,e){super(A,e),this.keyframeType=s.KeyframeTypes.Event,this.isApplied=!1,this.hasDuration=!1,this.isCurrentlyInRange=!1}parseOptions(A){A.x=void 0,A.y=void 0,A.scale=void 0,A.scaleX=void 0,A.scaleY=void 0,A.rotation=void 0,A.style=void 0,A.cssClass=void 0,A.rotation=void 0,A.opacity=void 0,A.hold=void 0,this.event=A.event,this.animValues[this.event]=[0,0],void 0===this.controller.tweenProps[this.event]&&(this.controller.tweenProps[this.event]=new r(0,1,!1,this.event)),super.parseOptions(A),this.keyframeType=s.KeyframeTypes.Event}updateLocalProgress(A){if(this.hasDuration){let e=this.isCurrentlyInRange,t=A>=this.start&&A<=this.end;if(e===t)return;return this.isCurrentlyInRange=t,void(t&&!e?this._trigger(this.event+":enter"):e&&!t&&this._trigger(this.event+":exit"))}!this.isApplied&&A>=this.start?(this.isApplied=!0,this._trigger(this.event)):this.isApplied&&A<this.start&&(this.isApplied=!1,this._trigger(this.event+":reverse"))}_trigger(A){this.controller.eventObject.event=A,this.controller.eventObject.keyframe=this,this.controller.trigger(A,this.controller.eventObject)}evaluateConstraints(){super.evaluateConstraints(),this.hasDuration=this.start!==this.end}reset(A){this.isApplied=!1,this.isCurrentlyInRange=!1,super.reset(A)}onDOMRead(A){}reconcile(A){}evaluateInterpolationConstraints(){}}n.DATA_ATTRIBUTE="data-anim-event",e.exports=n},{42:42,47:47,55:55}],46:[function(A,e,t){"use strict";const i=A(56);e.exports=class{constructor(A,e,t=!1){this.isGroup=t,this.group=A,this.controller=e,this.controllers=[],this.tweenProps=new i}}},{56:56}],47:[function(A,e,t){"use strict";const i={GUI_INSTANCE:null,ANIM_INSTANCE:null,VIEWPORT_EMITTER_ELEMENT:void 0,LOCAL_STORAGE_KEYS:{GuiPosition:"anim-ui.position",GroupCollapsedStates:"anim-ui.group-collapsed-states",scrollY:"anim-ui.scrollY-position",path:"https://www.apple.com.cn/v/iphone/switch/f/built/scripts/anim-ui.path"},RESIZE_TIMEOUT:-1,BREAKPOINTS:[{name:"S",mediaQuery:"only screen and (max-width: 734px)"},{name:"M",mediaQuery:"only screen and (max-width: 1068px)"},{name:"L",mediaQuery:"only screen and (min-width: 1069px)"}],getBreakpoint:function(){for(let A=0;A<i.BREAKPOINTS.length;A++){let e=i.BREAKPOINTS[A];if(window.matchMedia(e.mediaQuery).matches)return e.name}},KeyframeDefaults:{ease:1,epsilon:.05,preserveState:!1,easeFunctionString:"linear",easeFunction:"linear",hold:!1,snapAtCreation:!1,toggle:!1,breakpointMask:"SMLX",event:"",disabledWhen:[],cssClass:""},KeyframeTypes:{Interpolation:0,InterpolationForward:1,CSSClass:2,Event:3},EVENTS:{ON_DOM_KEYFRAMES_CREATED:"ON_DOM_KEYFRAMES_CREATED",ON_DOM_GROUPS_CREATED:"ON_DOM_GROUPS_CREATED",ON_GROUP_CREATED:"ON_GROUP_CREATED",ON_KEYFRAME_UPDATED:"ON_KEYFRAME_UPDATED",ON_TIMELINE_START:"ON_TIMELINE_START",ON_TIMELINE_UPDATE:"ON_TIMELINE_UPDATE",ON_TIMELINE_COMPLETE:"ON_TIMELINE_COMPLETE",ON_CHAPTER_INITIATED:"ON_CHAPTER_INITIATED",ON_CHAPTER_OCCURRED:"ON_CHAPTER_OCCURRED",ON_CHAPTER_COMPLETED:"ON_CHAPTER_COMPLETED"},PageEvents:{ON_SCROLL:"ON_SCROLL",ON_RESIZE_IMMEDIATE:"ON_RESIZE_IMMEDIATE",ON_RESIZE_DEBOUNCED:"ON_RESIZE_DEBOUNCED",ON_BREAKPOINT_CHANGE:"ON_BREAKPOINT_CHANGE"},KeyframeJSONReservedWords:["event","cssClass","style","anchors","start","end","epsilon","easeFunction","ease","breakpointMask","disabledWhen"],TweenProps:A(56),TargetValue:A(55),CSSTargetValue:A(48),pageMetrics:new function(){this.scrollX=0,this.scrollY=0,this.windowWidth=0,this.windowHeight=0,this.documentOffsetX=0,this.documentOffsetY=0,this.previousBreakpoint="",this.breakpoint=""},KeyframeComparison:function(A,e){return A.start<e.start?-1:A.start>e.start?1:0}};e.exports=i},{48:48,55:55,56:56}],48:[function(A,e,t){"use strict";const i=A(55),s=A(67);e.exports=class extends i{constructor(A,e,t,i,r=!1,n){super(A,e,t,i=s(i),r,n)}set(A){let e=this.current;this.round&&(e=Math.round(e)),this.suffix&&(e+=this.suffix),A.setProperty(this.key,e)}}},{55:55,67:67}],49:[function(A,e,t){"use strict";e.exports=new class{constructor(){this.linear=function(A){return A},this.easeInQuad=function(A){return A*A},this.easeOutQuad=function(A){return A*(2-A)},this.easeInOutQuad=function(A){return A<.5?2*A*A:(4-2*A)*A-1},this.easeInSin=function(A){return 1+Math.sin(Math.PI/2*A-Math.PI/2)},this.easeOutSin=function(A){return Math.sin(Math.PI/2*A)},this.easeInOutSin=function(A){return(1+Math.sin(Math.PI*A-Math.PI/2))/2},this.easeInElastic=function(A){return 0===A?A:(.04-.04/A)*Math.sin(25*A)+1},this.easeOutElastic=function(A){return.04*A/--A*Math.sin(25*A)},this.easeInOutElastic=function(A){return(A-=.5)<0?(.02+.01/A)*Math.sin(50*A):(.02-.01/A)*Math.sin(50*A)+1},this.easeOutBack=function(A){return(A-=1)*A*(2.70158*A+1.70158)+1},this.easeInCubic=function(A){return A*A*A},this.easeOutCubic=function(A){return--A*A*A+1},this.easeInOutCubic=function(A){return A<.5?4*A*A*A:(A-1)*(2*A-2)*(2*A-2)+1},this.easeInQuart=function(A){return A*A*A*A},this.easeOutQuart=function(A){return 1- --A*A*A*A},this.easeInOutQuart=function(A){return A<.5?8*A*A*A*A:1-8*--A*A*A*A},this.easeInQuint=function(A){return A*A*A*A*A},this.easeOutQuint=function(A){return 1+--A*A*A*A*A},this.easeInOutQuint=function(A){return A<.5?16*A*A*A*A*A:1+16*--A*A*A*A*A}}}},{}],50:[function(A,e,t){"use strict";const i=A(47),s=(A,e)=>null==A?e:A;class r{constructor(A){this.top=0,this.bottom=0,this.left=0,this.right=0,this.height=0,this.width=0}toString(){return"top:".concat(this.top,", bottom:").concat(this.bottom,", left:").concat(this.left,", right:").concat(this.right,", height:").concat(this.height,", width:").concat(this.width)}toObject(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right,height:this.height,width:this.width}}}e.exports=class{constructor(){this.clear()}clear(){this._metrics=new WeakMap}destroy(){this._metrics=null}add(A){let e=this._metrics.get(A);if(e)return e;let t=new r(A);return this._metrics.set(A,t),this._refreshMetrics(A,t)}get(A){return this._metrics.get(A)}refreshCollection(A){A.forEach(A=>this._refreshMetrics(A,null))}refreshMetrics(A){return this._refreshMetrics(A)}_refreshMetrics(A,e){if(e=e||this._metrics.get(A),!(A instanceof Element))return e.width=s(A.width,0),e.height=s(A.height,0),e.top=s(A.top,s(A.y,0)),e.left=s(A.left,s(A.x,0)),e.right=e.left+e.width,e.bottom=e.top+e.height,e;if(void 0===A.offsetWidth){let t=A.getBoundingClientRect();return e.width=t.width,e.height=t.height,e.top=i.pageMetrics.scrollY+t.top,e.left=i.pageMetrics.scrollX+t.left,e.right=e.left+e.width,e.bottom=e.top+e.height,e}e.width=A.offsetWidth,e.height=A.offsetHeight,e.top=i.pageMetrics.documentOffsetY,e.left=i.pageMetrics.documentOffsetX;let t=A;for(;t;)e.top+=t.offsetTop,e.left+=t.offsetLeft,t=t.offsetParent;return e.right=e.left+e.width,e.bottom=e.top+e.height,e}}},{47:47}],51:[function(A,e,t){"use strict";e.exports=class{constructor(A){this.controller=A,this.element=this.controller.element,this.keyframe=null,this.event="",this.tweenProps=this.controller.tweenProps}}},{}],52:[function(A,e,t){"use strict";const i=A(47),s=A(42),r=A(45),n=A(43),o=function(A){for(let e in A){let t=A[e];if(-1===i.KeyframeJSONReservedWords.indexOf(e)&&Array.isArray(t))return!0}return!1};e.exports=function(A){if(void 0!==A.cssClass||void 0!==A.style){if(o(A))throw"CSS Keyframes cannot tween values, please use multiple keyframes instead";return n}if(o(A))return s;if(A.event)return r;throw delete A.anchors,"Could not determine tween type based on ".concat(JSON.stringify(A))}},{42:42,43:43,45:45,47:47}],53:[function(A,e,t){"use strict";e.exports=class{constructor(){this.local=0,this.localUnclamped=0,this.lastPosition=0}}},{}],54:[function(A,e,t){"use strict";const{map:i}=A(90),s={};class r{constructor(A,e,t,i){this.mass=A,this.stiffness=e,this.damping=t,this.initialVelocity=i,this.m_w0=Math.sqrt(this.stiffness/this.mass),this.m_zeta=this.damping/(2*Math.sqrt(this.stiffness*this.mass)),this.m_zeta<1?(this.m_wd=this.m_w0*Math.sqrt(1-this.m_zeta*this.m_zeta),this.m_A=1,this.m_B=(this.m_zeta*this.m_w0-this.initialVelocity)/this.m_wd):(this.m_wd=0,this.m_A=1,this.m_B=-this.initialVelocity+this.m_w0)}solve(A){return 1-(A=this.m_zeta<1?Math.exp(-A*this.m_zeta*this.m_w0)*(this.m_A*Math.cos(this.m_wd*A)+this.m_B*Math.sin(this.m_wd*A)):(this.m_A+this.m_B*A)*Math.exp(-A*this.m_w0))}}const n=/\d*\.?\d+/g;r.fromCSSString=function(A){let e=A.match(n);if(4!==e.length)throw"SpringEasing could not convert ".concat(cssString," to spring params");let t=e.map(Number),o=new r(...t);const a=o.solve.bind(o);let h=0;let l=function(){if(s[A])return s[A];let e,t=0;for(;;){h+=1/6;if(1===a(h)){if(t++,t>=16){e=h*(1/6);break}}else t=0}return s[A]=e,s[A]}();return function(A){return 0===A||1===A?A:a(i(A,0,1,0,l))}},e.exports=r},{90:90}],55:[function(A,e,t){"use strict";e.exports=class{constructor(A,e,t,i,s=!1,r){this.epsilon=parseFloat(e),this.snapAtCreation=t,this.initialValue=A,this.target=A,this.current=A,this.previousValue=A,this.isActive=!1,this.key=i,this.round=s,this.suffix=r}update(A,e,t){this.target=A[0]+e*(A[1]-A[0]),this.previousValue=this.current,this.current+=(this.target-this.current)*t;let i=this.delta(this.current,this.target);return i<this.epsilon&&(this.current=this.target,i=0),i>this.epsilon||0===i&&this.previousValue!==this.current}reconcile(A,e){return this.initialValue=A[0],this.update(A,e,1)}needsUpdate(){return this.delta(this.current,this.target)>this.epsilon}delta(A,e){return Math.abs(A-e)}calculateEpsilon(A,e){if(A.epsilon)return void(this.epsilon=A.epsilon);let t=this.delta(e[0],e[1]),i=Math.min(.001*t,this.epsilon,.05);this.epsilon=Math.max(i,.001)}set(A){let e=this.current;this.round&&(e=Math.round(e)),this.suffix&&(e+=this.suffix),A[this.key]=e}}},{}],56:[function(A,e,t){"use strict";e.exports=class{}},{}],57:[function(A,e,t){"use strict";e.exports=()=>Math.random().toString(16).slice(-4)},{}],58:[function(A,e,t){"use strict";const i=Math.abs;class s{constructor(A,e,t,i){this.cp=new Float32Array(6),this.cp[0]=3*A,this.cp[1]=3*(t-A)-this.cp[0],this.cp[2]=1-this.cp[0]-this.cp[1],this.cp[3]=3*e,this.cp[4]=3*(i-e)-this.cp[3],this.cp[5]=1-this.cp[3]-this.cp[4]}sampleCurveX(A){return((this.cp[2]*A+this.cp[1])*A+this.cp[0])*A}sampleCurveY(A){return((this.cp[5]*A+this.cp[4])*A+this.cp[3])*A}sampleCurveDerivativeX(A){return(3*this.cp[2]*A+2*this.cp[1])*A+this.cp[0]}solveCurveX(A){var e,t,s,r,n,o;for(s=A,o=0;o<5;o++){if(r=this.sampleCurveX(s)-A,i(r)<1e-5)return s;if(n=this.sampleCurveDerivativeX(s),i(n)<1e-5)break;s-=r/n}if((s=A)<(e=0))return e;if(s>(t=1))return t;for(;e<t;){if(r=this.sampleCurveX(s),i(r-A)<1e-5)return s;A>r?e=s:t=s,s=.5*(t-e)+e}return s}solve(A){return this.sampleCurveY(this.solveCurveX(A))}}const r=/\d*\.?\d+/g;s.fromCSSString=function(A){let e=A.match(r);if(4!==e.length)throw"UnitBezier could not convert ".concat(A," to cubic-bezier");let t=e.map(Number),i=new s(t[0],t[1],t[2],t[3]);return i.solve.bind(i)},e.exports=s},{}],59:[function(A,e,t){"use strict";e.exports=class{constructor(A,e){this.a=A.top-e,this.a<0&&(this.a=A.top),this.b=A.top,this.d=A.bottom,this.c=Math.max(this.d-e,this.b)}}},{}],60:[function(A,e,t){"use strict";let i=["borderRadius","bottom","fontSize","fontWeight","height","left","lineHeight","marginBottom","marginLeft","marginRight","marginTop","maxHeight","maxWidth","opacity","paddingBottom","paddingLeft","paddingRight","paddingTop","right","top","width","zIndex","color","backgroundColor","fill","stroke","strokeDashoffset"];i.push(...i.map(A=>A.replace(/[A-Z]/g,A=>"-"+A.toLowerCase())));e.exports={transformAttributes:["x","y","z","scale","scaleX","scaleY","rotation","rotationX","rotationY","rotationZ"],cssAttributes:i,domAttributes:["currentTime","scrollLeft","scrollTop"]}},{}],61:[function(A,e,t){"use strict";const i=A(62),s=new(A(50));class r{constructor(A){this.group=A,this.data={target:null,anchors:null,metrics:this.group.metrics}}parseArray(A,e){return[this.parseExpression(A,e[0]),this.parseExpression(A,e[1])]}parseExpression(A,e){if(!e)return null;if("number"==typeof e)return e;if("string"!=typeof e)throw"Expression must be a string, received ".concat(typeof e,": ").concat(e);return this.data.target=A.controller.element,this.data.anchors=A.anchors,this.data.keyframe=A.keyframe,this.group.anim.plugins.parser.reduce((t,i)=>t||i.parseExpression.call(this,A,e),null)||r._parse(e,this.data)}parseTimeValue(A,e){if("number"==typeof e)return e;let t=this.group.expressionParser.parseExpression(A,e);return this.group.convertScrollPositionToTValue(t)}destroy(){this.group=null}static parse(A,e){return(e=e||{})&&(s.clear(),e.target&&s.add(e.target),e.anchors&&e.anchors.forEach(A=>s.add(A))),e.metrics=s,r._parse(A,e)}static _parse(A,e){return i.Parse(A).execute(e)}}r.programs=i.programs,"undefined"!=typeof window&&(window.ExpressionParser=r),e.exports=r},{50:50,62:62}],62:[function(A,e,t){"use strict";const i=A(47),s=A(90),r={},n={smoothstep:(A,e,t)=>(t=n.clamp((t-A)/(e-A),0,1))*t*(3-2*t),deg:A=>180*A/Math.PI,rad:A=>A*Math.PI/180,random:(A,e)=>Math.random()*(e-A)+A,atan:Math.atan2};Object.getOwnPropertyNames(Math).forEach(A=>n[A]?null:n[A.toLowerCase()]=Math[A]),Object.getOwnPropertyNames(s).forEach(A=>n[A]?null:n[A.toLowerCase()]=s[A]);let o=null;const a="a",h="ALPHA",l="(",c=")",u="PLUS",d="MINUS",m="MUL",g="DIV",p="INTEGER_CONST",f="FLOAT_CONST",I=",",C="EOF",_={NUMBERS:/\d|\d\.\d/,DIGIT:/\d/,OPERATOR:/[-+*/]/,PAREN:/[()]/,WHITE_SPACE:/\s/,ALPHA:/[a-zA-Z]|%/,ALPHANUMERIC:/[a-zA-Z0-9]/,OBJECT_UNIT:/^(t|l|b|r|%w|%h|%|h|w)$/,GLOBAL_METRICS_UNIT:/^(px|vh|vw)$/,ANY_UNIT:/^(t|l|b|r|%w|%h|%|h|w|px|vh|vw)$/,MATH_FUNCTION:new RegExp("\\b(".concat(Object.keys(n).join("|"),")\\b"),"i")},y=function(A,e,t,i=""){let s=e.slice(Math.max(t,0),Math.min(e.length,t+3)),r=new Error("Expression Error. ".concat(A,' in expression "').concat(e,'", near "').concat(s,'"'));throw console.error(r.message,o?o.keyframe||o.target:""),r},E={round:1,clamp:3,lerp:3,random:2,atan:2,floor:1,ceil:1,abs:1,cos:1,sin:1,smoothstep:3,rad:1,deg:1,pow:2,calc:1};class b{constructor(A,e){this.type=A,this.value=e}}b.ONE=new b("100",100),b.EOF=new b(C,null);class v{constructor(A){this.type=A}}class w extends v{constructor(A,e){super("UnaryOp"),this.token=this.op=A,this.expr=e}}class T extends v{constructor(A,e,t){super("BinOp"),this.left=A,this.op=e,this.right=t}}class x extends v{constructor(A,e){if(super("MathOp"),this.op=A,this.list=e,E[A.value]&&e.length!==E[A.value])throw new Error("Incorrect number of arguments for '".concat(A.value,"'. Received ").concat(e.length,", expected ").concat(E[A.value]))}}class S extends v{constructor(A){super("Num"),this.token=A,this.value=A.value}}class M extends v{constructor(A,e,t){super("RefValue"),this.num=A,this.ref=e,this.unit=t}}class R extends v{constructor(A,e){super("CSSValue"),this.ref=A,this.propertyName=e}}class O extends v{constructor(A,e){super("PropValue"),this.ref=A,this.propertyName=e}}class P{constructor(A){let e;for(this.text=A,this.pos=0,this.char=this.text[this.pos],this.tokens=[];(e=this.getNextToken())&&e!==b.EOF;)this.tokens.push(e);this.tokens.push(e)}advance(){this.char=this.text[++this.pos]}skipWhiteSpace(){for(;null!=this.char&&_.WHITE_SPACE.test(this.char);)this.advance()}name(){let A="";for(;null!=this.char&&_.ALPHA.test(this.char);)A+=this.char,this.advance();return new b(h,A)}number(){let A="";for("."===this.char&&(A+=this.char,this.advance());null!=this.char&&_.DIGIT.test(this.char);)A+=this.char,this.advance();if(null!=this.char&&"."===this.char)for(A.includes(".")&&y("Number appears to contain 2 decimal points",this.text,this.pos),A+=this.char,this.advance();null!=this.char&&_.DIGIT.test(this.char);)A+=this.char,this.advance();return"."===A&&y("Attempted to parse a number, but found only a decimal point",this.text,this.pos),A.includes(".")?new b(f,parseFloat(A)):new b(p,parseInt(A))}getNextToken(){for(;null!=this.char;)if(_.WHITE_SPACE.test(this.char))this.skipWhiteSpace();else{if("."===this.char||_.DIGIT.test(this.char))return this.number();if(","===this.char)return this.advance(),new b(I,",");if(_.OPERATOR.test(this.char)){let A="",e=this.char;switch(e){case"+":A=u;break;case"-":A=d;break;case"*":A=m;break;case"/":A=g}return this.advance(),new b(A,e)}if(_.PAREN.test(this.char)){let A="",e=this.char;switch(e){case"(":A=l;break;case")":A=c}return this.advance(),new b(A,e)}if(_.ALPHA.test(this.char))return this.name();y('Unexpected character "'.concat(this.char,'"'),this.text,this.pos)}return b.EOF}}class F{constructor(A){this.lexer=A,this.pos=0}get currentToken(){return this.lexer.tokens[this.pos]}error(A,e=""){y(A,e,this.lexer.text,this.pos)}consume(A){let e=this.currentToken;return e.type===A?this.pos+=1:this.error("Invalid token ".concat(this.currentToken.value,", expected ").concat(A)),e}consumeList(A){A.includes(this.currentToken)?this.pos+=1:this.error("Invalid token ".concat(this.currentToken.value,", expected ").concat(tokenType))}expr(){let A=this.term();for(;this.currentToken.type===u||this.currentToken.type===d;){const e=this.currentToken;switch(e.value){case"+":this.consume(u);break;case"-":this.consume(d)}A=new T(A,e,this.term())}return A}term(){let A=this.factor();for(;this.currentToken.type===m||this.currentToken.type===g;){const e=this.currentToken;switch(e.value){case"*":this.consume(m);break;case"/":this.consume(g)}A=new T(A,e,this.factor())}return A}factor(){if(this.currentToken.type===u)return new w(this.consume(u),this.factor());if(this.currentToken.type===d)return new w(this.consume(d),this.factor());if(this.currentToken.type===p||this.currentToken.type===f){let A=new S(this.currentToken);if(this.pos+=1,_.OPERATOR.test(this.currentToken.value)||this.currentToken.type===c||this.currentToken.type===I||this.currentToken.type===C)return A;if(this.currentToken.type===h&&this.currentToken.value===a)return this.consume(h),new M(A,this.anchorIndex(),this.unit(_.ANY_UNIT));if(this.currentToken.type===h)return"%a"===this.currentToken.value&&this.error("%a is invalid, try removing the %"),new M(A,null,this.unit());this.error("Expected a scaling unit type","Such as 'h' / 'w'")}else{if(_.OBJECT_UNIT.test(this.currentToken.value))return new M(new S(b.ONE),null,this.unit());if(this.currentToken.value===a){this.consume(h);const A=this.anchorIndex();if(_.OBJECT_UNIT.test(this.currentToken.value))return new M(new S(b.ONE),A,this.unit())}else if(this.currentToken.type===h){if("calc"===this.currentToken.value)return this.consume(h),this.expr();if("css"===this.currentToken.value||"var"===this.currentToken.value||"prop"===this.currentToken.value){const A="prop"!==this.currentToken.value?R:O;this.consume(h),this.consume(l);const e=this.propertyName();let t=null;return this.currentToken.type===I&&(this.consume(I),this.consume(h),t=this.anchorIndex()),this.consume(c),new A(t,e)}if(_.MATH_FUNCTION.test(this.currentToken.value)){const A=this.currentToken.value.toLowerCase();if("number"==typeof n[A])return this.consume(h),new S(new b(h,n[A]));const e=b[A]||new b(A,A),t=[];this.consume(h),this.consume(l);let i=null;do{this.currentToken.value===I&&this.consume(I),i=this.expr(),t.push(i)}while(this.currentToken.value===I);return this.consume(c),new x(e,t)}}else if(this.currentToken.type===l){this.consume(l);let A=this.expr();return this.consume(c),A}}this.error("Unexpected token ".concat(this.currentToken.value))}propertyName(){let A="";for(;this.currentToken.type===h||this.currentToken.type===d;)A+=this.currentToken.value,this.pos+=1;return A}unit(A=_.ANY_UNIT){const e=this.currentToken;if(e.type===h&&A.test(e.value))return this.consume(h),new b(h,e.value=e.value.replace(/%(h|w)/,"$1").replace("%","h"));this.error("Expected unit type")}anchorIndex(){const A=this.currentToken;if(A.type===p)return this.consume(p),new S(A);this.error("Invalid anchor reference",". Should be something like a0, a1, a2")}parse(){const A=this.expr();return this.currentToken!==b.EOF&&this.error("Unexpected token ".concat(this.currentToken.value)),A}}class D{constructor(A){this.parser=A,this.root=A.parse()}visit(A){let e=this[A.type];if(!e)throw new Error("No visit method named, ".concat(e));return e.call(this,A)}BinOp(A){switch(A.op.type){case u:return this.visit(A.left)+this.visit(A.right);case d:return this.visit(A.left)-this.visit(A.right);case m:return this.visit(A.left)*this.visit(A.right);case g:return this.visit(A.left)/this.visit(A.right)}}RefValue(A){let e=this.unwrapReference(A),t=A.unit.value,s=A.num.value;const r=o.metrics.get(e);switch(t){case"h":return.01*s*r.height;case"t":return.01*s*r.top;case"vh":return.01*s*i.pageMetrics.windowHeight;case"vw":return.01*s*i.pageMetrics.windowWidth;case"px":return s;case"w":return.01*s*r.width;case"b":return.01*s*r.bottom;case"l":return.01*s*r.left;case"r":return.01*s*r.right}}PropValue(A){return(null===A.ref?o.target:o.anchors[A.ref.value])[A.propertyName]}CSSValue(A){let e=this.unwrapReference(A);const t=getComputedStyle(e).getPropertyValue(A.propertyName);return""===t?0:D.Parse(t).execute(o)}Num(A){return A.value}UnaryOp(A){return A.op.type===u?+this.visit(A.expr):A.op.type===d?-this.visit(A.expr):void 0}MathOp(A){let e=A.list.map(A=>this.visit(A));return n[A.op.value].apply(null,e)}unwrapReference(A){return null===A.ref?o.target:(A.ref.value>=o.anchors.length&&console.error("Not enough anchors supplied for expression ".concat(this.parser.lexer.text),o.target),o.anchors[A.ref.value])}execute(A){return o=A,this.visit(this.root)}static Parse(A){return r[A]||(r[A]=new D(new F(new P(A))))}}D.programs=r,e.exports=D},{47:47,90:90}],63:[function(A,e,t){"use strict";const i=A(11).EventEmitterMicro,s=A(90),r=A(66),n=A(47),o=A(46),a=A(53),h=A(59),l=A(50),c=A(61),u=A(44),d={};"undefined"!=typeof window&&(d.create=A(23),d.update=A(33),d.draw=A(29));let m=0;e.exports=class extends i{constructor(A,e){super(),this.anim=e,this.element=A,this.name=this.name||A.getAttribute("data-anim-scroll-group"),this.isEnabled=!0,this.position=new a,this.metrics=new l,this.metrics.add(this.element),this.expressionParser=new c(this),this.boundsMin=0,this.boundsMax=0,this.timelineUpdateRequired=!1,this._keyframesDirty=!1,this.viewableRange=this.createViewableRange(),this.defaultEase=n.KeyframeDefaults.ease,this.keyframeControllers=[],this.updateProgress(this.getPosition()),this.onDOMRead=this.onDOMRead.bind(this),this.onDOMWrite=this.onDOMWrite.bind(this),this.gui=null,this.computedStyleCache={},this.finalizeInit()}finalizeInit(){this.element._animInfo=new o(this,null,!0),this.setupRAFEmitter()}destroy(){this.destroyed=!0,this.expressionParser.destroy(),this.expressionParser=null;for(let A=0,e=this.keyframeControllers.length;A<e;A++)this.keyframeControllers[A].destroy();this.keyframeControllers=null,this.position=null,this.viewableRange=null,this.gui&&(this.gui.destroy(),this.gui=null),this.metrics.destroy(),this.metrics=null,this.rafEmitter.destroy(),this.rafEmitter=null,this.anim=null,this.element._animInfo&&this.element._animInfo.group===this&&(this.element._animInfo.group=null,this.element._animInfo=null),this.element=null,this.isEnabled=!1,super.destroy()}removeKeyframeController(A){return this.keyframeControllers.includes(A)?(A._allKeyframes.forEach(A=>A.markedForRemoval=!0),this.keyframesDirty=!0,new Promise(e=>{d.draw(()=>{const t=this.keyframeControllers.indexOf(A);-1!==t?(this.keyframeControllers.splice(t,1),A.onDOMWrite(),A.destroy(),this.gui&&this.gui.create(),e()):e()})})):Promise.resolve()}remove(){return this.anim.removeGroup(this)}clear(){return Promise.all(this.keyframeControllers.map(A=>this.removeKeyframeController(A)))}setupRAFEmitter(A){this.rafEmitter&&this.rafEmitter.destroy(),this.rafEmitter=A||new d.create,this.rafEmitter.on("update",this.onDOMRead),this.rafEmitter.on("draw",this.onDOMWrite),this.rafEmitter.once("external",()=>this.reconcile())}requestDOMChange(){return!!this.isEnabled&&this.rafEmitter.run()}onDOMRead(){this.keyframesDirty&&this.onKeyframesDirty();for(let A=0,e=this.keyframeControllers.length;A<e;A++)this.keyframeControllers[A].onDOMRead(this.position.local)}onDOMWrite(){for(let A=0,e=this.keyframeControllers.length;A<e;A++)this.keyframeControllers[A].onDOMWrite();this.needsUpdate()&&this.requestDOMChange(),this.computedStyleCache={}}needsUpdate(){if(this._keyframesDirty)return!0;for(let A=0,e=this.keyframeControllers.length;A<e;A++)if(this.keyframeControllers[A].needsUpdate())return!0;return!1}addKeyframe(A,e){let t=this.getControllerForTarget(A);return null===t&&(t=new u(this,A),this.keyframeControllers.push(t)),this.keyframesDirty=!0,t.addKeyframe(e)}addEvent(A,e){e.event=e.event||"Generic-Event-Name-"+m++;let t=void 0!==e.end&&e.end!==e.start;const i=this.addKeyframe(A,e);return t?(e.onEnterOnce&&i.controller.once(e.event+":enter",e.onEnterOnce),e.onExitOnce&&i.controller.once(e.event+":exit",e.onExitOnce),e.onEnter&&i.controller.on(e.event+":enter",e.onEnter),e.onExit&&i.controller.on(e.event+":exit",e.onExit)):(e.onEventOnce&&i.controller.once(e.event,e.onEventOnce),e.onEventReverseOnce&&i.controller.once(e.event+":reverse",e.onEventReverseOnce),e.onEvent&&i.controller.on(e.event,e.onEvent),e.onEventReverse&&i.controller.on(e.event+":reverse",e.onEventReverse)),i}forceUpdate({waitForNextUpdate:A=!0,silent:e=!1}={}){this.isEnabled&&(this.refreshMetrics(),this.timelineUpdateRequired=!0,A?this.keyframesDirty=!0:this.onKeyframesDirty({silent:e}))}onKeyframesDirty({silent:A=!1}={}){this.determineActiveKeyframes(),this.keyframesDirty=!1,this.metrics.refreshMetrics(this.element),this.viewableRange=this.createViewableRange();for(let A=0,e=this.keyframeControllers.length;A<e;A++)this.keyframeControllers[A].updateAnimationConstraints();this.updateBounds(),this.updateProgress(this.getPosition()),A||this.updateTimeline(),this.gui&&this.gui.create()}refreshMetrics(){let A=new Set([this.element]);this.keyframeControllers.forEach(e=>{A.add(e.element),e._allKeyframes.forEach(e=>e.anchors.forEach(e=>A.add(e)))}),this.metrics.refreshCollection(A),this.viewableRange=this.createViewableRange()}reconcile(){for(let A=0,e=this.keyframeControllers.length;A<e;A++)this.keyframeControllers[A].reconcile()}determineActiveKeyframes(A){A=A||r(Array.from(document.documentElement.classList));for(let e=0,t=this.keyframeControllers.length;e<t;e++)this.keyframeControllers[e].determineActiveKeyframes(A)}updateBounds(){if(0===this.keyframeControllers.length)return this.boundsMin=0,void(this.boundsMax=0);let A={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};for(let e=0,t=this.keyframeControllers.length;e<t;e++)this.keyframeControllers[e].getBounds(A);let e=this.convertTValueToScrollPosition(A.min),t=this.convertTValueToScrollPosition(A.max);t-e<n.pageMetrics.windowHeight?(A.min=this.convertScrollPositionToTValue(e-.5*n.pageMetrics.windowHeight),A.max=this.convertScrollPositionToTValue(t+.5*n.pageMetrics.windowHeight)):(A.min-=.001,A.max+=.001),this.boundsMin=A.min,this.boundsMax=A.max,this.timelineUpdateRequired=!0}createViewableRange(){return new h(this.metrics.get(this.element),n.pageMetrics.windowHeight)}_onBreakpointChange(A,e){this.keyframesDirty=!0,this.determineActiveKeyframes()}updateProgress(A){this.hasDuration()?(this.position.localUnclamped=(A-this.viewableRange.a)/(this.viewableRange.d-this.viewableRange.a),this.position.local=s.clamp(this.position.localUnclamped,this.boundsMin,this.boundsMax)):this.position.local=this.position.localUnclamped=0}performTimelineDispatch(){for(let A=0,e=this.keyframeControllers.length;A<e;A++)this.keyframeControllers[A].updateLocalProgress(this.position.local);this.trigger(n.EVENTS.ON_TIMELINE_UPDATE,this.position.local),this.trigger("update",this.position.local),this.timelineUpdateRequired=!1,this.position.lastPosition!==this.position.local&&(this.position.lastPosition<=this.boundsMin&&this.position.localUnclamped>this.boundsMin?(this.trigger(n.EVENTS.ON_TIMELINE_START,this),this.trigger("start",this)):this.position.lastPosition>=this.boundsMin&&this.position.localUnclamped<this.boundsMin?(this.trigger(n.EVENTS.ON_TIMELINE_START+":reverse",this),this.trigger("start:reverse",this)):this.position.lastPosition<=this.boundsMax&&this.position.localUnclamped>=this.boundsMax?(this.trigger(n.EVENTS.ON_TIMELINE_COMPLETE,this),this.trigger("complete",this)):this.position.lastPosition>=this.boundsMax&&this.position.localUnclamped<this.boundsMax&&(this.trigger(n.EVENTS.ON_TIMELINE_COMPLETE+":reverse",this),this.trigger("complete:reverse",this))),null!==this.gui&&this.gui.onScrollUpdate(this.position)}updateTimeline(A){if(!this.isEnabled)return!1;void 0===A&&(A=this.getPosition()),this.updateProgress(A);let e=this.position.lastPosition===this.boundsMin||this.position.lastPosition===this.boundsMax,t=this.position.localUnclamped===this.boundsMin||this.position.localUnclamped===this.boundsMax;if(!this.timelineUpdateRequired&&e&&t&&this.position.lastPosition===A)return void(this.position.local=this.position.localUnclamped);if(this.timelineUpdateRequired||this.position.localUnclamped>this.boundsMin&&this.position.localUnclamped<this.boundsMax)return this.performTimelineDispatch(),this.requestDOMChange(),void(this.position.lastPosition=this.position.localUnclamped);let i=this.position.lastPosition>this.boundsMin&&this.position.lastPosition<this.boundsMax,s=this.position.localUnclamped<=this.boundsMin||this.position.localUnclamped>=this.boundsMax;if(i&&s)return this.performTimelineDispatch(),this.requestDOMChange(),void(this.position.lastPosition=this.position.localUnclamped);const r=this.position.lastPosition<this.boundsMin&&this.position.localUnclamped>this.boundsMax,n=this.position.lastPosition>this.boundsMax&&this.position.localUnclamped<this.boundsMax;(r||n)&&(this.performTimelineDispatch(),this.requestDOMChange(),this.position.lastPosition=this.position.localUnclamped),null!==this.gui&&this.gui.onScrollUpdate(this.position)}_onScroll(A){this.updateTimeline(A)}convertScrollPositionToTValue(A){return this.hasDuration()?s.map(A,this.viewableRange.a,this.viewableRange.d,0,1):0}convertTValueToScrollPosition(A){return this.hasDuration()?s.map(A,0,1,this.viewableRange.a,this.viewableRange.d):0}hasDuration(){return this.viewableRange.a!==this.viewableRange.d}getPosition(){return n.pageMetrics.scrollY}getControllerForTarget(A){if(!A._animInfo||!A._animInfo.controllers)return null;if(A._animInfo.controller&&A._animInfo.controller.group===this)return A._animInfo.controller;const e=A._animInfo.controllers;for(let A=0,t=e.length;A<t;A++)if(e[A].group===this)return e[A];return null}trigger(A,e){if(void 0!==this._events[A])for(let t=this._events[A].length-1;t>=0;t--)void 0!==e?this._events[A][t](e):this._events[A][t]()}set keyframesDirty(A){this._keyframesDirty=A,this._keyframesDirty&&this.requestDOMChange()}get keyframesDirty(){return this._keyframesDirty}}},{11:11,23:23,29:29,33:33,44:44,46:46,47:47,50:50,53:53,59:59,61:61,66:66,90:90}],64:[function(A,e,t){"use strict";const i=A(63),s=A(41),r=A(90);let n=0;const o={};"undefined"!=typeof window&&(o.create=A(23));class a extends i{constructor(A,e){A||((A=document.createElement("div")).className="TimeGroup-"+n++),super(A,e),this.name=this.name||A.getAttribute("data-anim-time-group"),this._isPaused=!0,this._repeats=0,this._isReversed=!1,this._timeScale=1,this._chapterPlayer=new s(this),this.now=performance.now()}finalizeInit(){if(!this.anim)throw"TimeGroup not instantiated correctly. Please use `AnimSystem.createTimeGroup(el)`";this.onPlayTimeUpdate=this.onPlayTimeUpdate.bind(this),super.finalizeInit()}progress(A){if(void 0===A)return 0===this.boundsMax?0:this.position.local/this.boundsMax;let e=A*this.boundsMax;this.timelineUpdateRequired=!0,this.updateTimeline(e)}time(A){if(void 0===A)return this.position.local;A=r.clamp(A,this.boundsMin,this.duration),this.timelineUpdateRequired=!0,this.updateTimeline(A)}play(A){this.reversed(!1),this.isEnabled=!0,this._isPaused=!1,this.time(A),this.now=performance.now(),this._playheadEmitter.run()}reverse(A){this.reversed(!0),this.isEnabled=!0,this._isPaused=!1,this.time(A),this.now=performance.now(),this._playheadEmitter.run()}reversed(A){if(void 0===A)return this._isReversed;this._isReversed=A}restart(){this._isReversed?(this.progress(1),this.reverse(this.time())):(this.progress(0),this.play(this.time()))}pause(A){this.time(A),this._isPaused=!0}paused(A){return void 0===A?this._isPaused:(this._isPaused=A,this._isPaused||this.play(),this)}onPlayTimeUpdate(){if(this._isPaused)return;let A=performance.now(),e=(A-this.now)/1e3;this.now=A,this._isReversed&&(e=-e);let t=this.time()+e*this._timeScale;if(this._repeats===a.REPEAT_FOREVER||this._repeats>0){let A=!1;!this._isReversed&&t>this.boundsMax?(t-=this.boundsMax,A=!0):this._isReversed&&t<0&&(t=this.boundsMax+t,A=!0),A&&(this._repeats=this._repeats===a.REPEAT_FOREVER?a.REPEAT_FOREVER:this._repeats-1)}this.time(t);let i=!this._isReversed&&this.position.local!==this.duration,s=this._isReversed&&0!==this.position.local;i||s?this._playheadEmitter.run():this.paused(!0)}updateProgress(A){this.hasDuration()?(this.position.localUnclamped=A,this.position.local=r.clamp(this.position.localUnclamped,this.boundsMin,this.boundsMax)):this.position.local=this.position.localUnclamped=0}updateBounds(){if(0===this.keyframeControllers.length)return this.boundsMin=0,void(this.boundsMax=0);let A={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};for(let e=0,t=this.keyframeControllers.length;e<t;e++)this.keyframeControllers[e].getBounds(A);this.boundsMin=0,this.boundsMax=A.max,this.viewableRange.a=this.viewableRange.b=0,this.viewableRange.c=this.viewableRange.d=this.boundsMax,this.timelineUpdateRequired=!0}setupRAFEmitter(A){this._playheadEmitter=new o.create,this._playheadEmitter.on("update",this.onPlayTimeUpdate),super.setupRAFEmitter(A)}get duration(){return this.keyframesDirty&&this.onKeyframesDirty({silent:!0}),this.boundsMax}timeScale(A){return void 0===A?this._timeScale:(this._timeScale=A,this)}repeats(A){if(void 0===A)return this._repeats;this._repeats=A}getPosition(){return this.position.local}addChapter(A){return this._chapterPlayer.addChapter(A)}playToChapter(A){this._chapterPlayer.playToChapter(A)}convertScrollPositionToTValue(A){return A}convertTValueToScrollPosition(A){return A}hasDuration(){return this.duration>0}destroy(){this._playheadEmitter.destroy(),this._playheadEmitter=null,super.destroy()}get timelineProgress(){return this.progress()}set timelineProgress(A){this.progress(A)}get progressValue(){return this.progress()}set progressValue(A){this.progress(A)}get timeValue(){return this.time()}set timeValue(A){this.time(A)}}a.REPEAT_FOREVER=-1,e.exports=a},{23:23,41:41,63:63,90:90}],65:[function(A,e,t){"use strict";const i=A(63),s=(A(41),A(90));let r=0;const n={};"undefined"!=typeof window&&(n.create=A(23));e.exports=class extends i{constructor(A,e){A||((A=document.createElement("div")).className="TweenGroup-"+r++),super(A,e),this.name="Tweens",this.keyframes=[],this._isPaused=!1,this.now=performance.now()}finalizeInit(){this.onTimeEmitterUpdate=this.onTimeEmitterUpdate.bind(this),this.removeExpiredKeyframeControllers=this.removeExpiredKeyframeControllers.bind(this),super.finalizeInit()}destroy(){this._timeEmitter.destroy(),this._timeEmitter=null,this._keyframes=[],super.destroy()}setupRAFEmitter(A){this.now=performance.now(),this._timeEmitter=new n.create,this._timeEmitter.on("update",this.onTimeEmitterUpdate),this._timeEmitter.run(),super.setupRAFEmitter(A)}addKeyframe(A,e){if(void 0!==e.start||void 0!==e.end)throw Error("Tweens do not have a start or end, they can only have a duration. Consider using a TimeGroup instead");if("number"!=typeof e.duration)throw Error("Tween options.duration is undefined, or is not a number");let t,i;e.start=(e.delay||0)+this.position.localUnclamped,e.end=e.start+e.duration,e.preserveState=!0,e.snapAtCreation=!0,A._animInfo&&(t=A._animInfo.group,i=A._animInfo.controller);let s=super.addKeyframe(A,e);return A._animInfo.group=t,A._animInfo.controller=i,e.onStart&&s.controller.once("draw",A=>{A.keyframe=s,e.onStart(A),A.keyframe=null}),e.onDraw&&s.controller.on("draw",A=>{A.keyframe=s,e.onDraw(A),A.keyframe=null}),this.removeOverlappingProps(s),this.keyframes.push(s),this._timeEmitter.willRun()||(this.now=performance.now(),this._timeEmitter.run()),s}removeOverlappingProps(A){if(A.controller._allKeyframes.length<=1)return;let e=Object.keys(A.animValues),t=A.controller;for(let i=0,s=t._allKeyframes.length;i<s;i++){const s=t._allKeyframes[i];if(s===A)continue;if(s.markedForRemoval)continue;let r=Object.keys(s.animValues),n=r.filter(A=>e.includes(A));n.length!==r.length?n.forEach(A=>delete s.animValues[A]):s.markedForRemoval=!0}}onTimeEmitterUpdate(A){if(this._isPaused||0===this.keyframeControllers.length)return;let e=performance.now(),t=(e-this.now)/1e3;this.now=e;let i=this.position.local+t;this.position.local=this.position.localUnclamped=i,this.onTimeUpdate()}onTimeUpdate(){for(let A=0,e=this.keyframes.length;A<e;A++)this.keyframes[A].updateLocalProgress(this.position.localUnclamped);this.requestDOMChange(),this._timeEmitter.run(),null!==this.gui&&this.gui.onScrollUpdate(this.position)}onDOMRead(){if(this.keyframesDirty&&this.onKeyframesDirty(),0!==this.keyframes.length)for(let A=0,e=this.keyframes.length;A<e;A++){this.keyframes[A].controller.needsWrite=!0;for(let e in this.keyframes[A].animValues)this.keyframes[A].onDOMRead(e)}}onDOMWrite(){super.onDOMWrite(),this.removeExpiredKeyframes()}removeExpiredKeyframes(){let A=this.keyframes.length,e=A;for(;A--;){let e=this.keyframes[A];e.destroyed?this.keyframes.splice(A,1):(e.markedForRemoval&&(e.jsonProps.onComplete&&1===e.localT&&(e.controller.eventObject.keyframe=e,e.jsonProps.onComplete(e.controller.eventObject),e.jsonProps.onComplete=null),null!==this.gui&&this.gui.isDraggingPlayhead||(e.remove(),this.keyframes.splice(A,1))),1===e.localT&&(e.markedForRemoval=!0))}this.keyframes.length===e&&0!==this.keyframes.length||this._timeEmitter.executor.eventEmitter.once("after:draw",this.removeExpiredKeyframeControllers)}removeExpiredKeyframeControllers(){for(let A=0,e=this.keyframeControllers.length;A<e;A++){let e=!0,t=this.keyframeControllers[A];for(let A=0,i=t._allKeyframes.length;A<i;A++)if(!t._allKeyframes[A].destroyed){e=!1;break}e&&t.remove()}}updateBounds(){this.boundsMin=Math.min(...this.keyframes.map(A=>A.start)),this.boundsMax=Math.max(...this.keyframes.map(A=>A.end))}play(){this.isEnabled=!0,this._isPaused=!1,this.now=performance.now(),this._timeEmitter.run()}pause(){this._isPaused=!0}paused(){return this._isPaused}time(A){if(void 0===A)return this.position.local;this.position.local=this.position.localUnclamped=s.clamp(A,this.boundsMin,this.boundsMax),this.onTimeUpdate()}performTimelineDispatch(){}hasDuration(){return!0}getPosition(){return this.position.local}updateProgress(A){}get duration(){return this.boundsMax}}},{23:23,41:41,63:63,90:90}],66:[function(A,e,t){"use strict";e.exports=function(A){return A.reduce((A,e)=>(A[e]=e,A),{})}},{}],67:[function(A,e,t){"use strict";e.exports=function(A){return A.startsWith("--")?A:A.replace(/[A-Z]/g,A=>"-"+A.toLowerCase())}},{}],68:[function(A,e,t){"use strict";e.exports=function(A,e){if("string"!=typeof A)return A;try{return(e||document).querySelector(A)||document.querySelector(A)}catch(A){return!1}}},{}],69:[function(A,e,t){"use strict";const i=A(11).EventEmitterMicro,s=A(47),r={create:A(23),update:A(33),draw:A(29)},n=()=>{};let o=0;e.exports=class extends i{constructor(A){super(),this.el=A.el,this.gum=A.gum,this.componentName=A.componentName,this._keyframeController=null}destroy(){this.el=null,this.gum=null,this._keyframeController=null,super.destroy()}addKeyframe(A){const e=A.el||this.el;return(A.group||this.anim).addKeyframe(e,A)}addDiscreteEvent(A){A.event=A.event||"Generic-Event-Name-"+o++;let e=void 0!==A.end&&A.end!==A.start;const t=this.addKeyframe(A);return e?(A.onEnterOnce&&t.controller.once(A.event+":enter",A.onEnterOnce),A.onExitOnce&&t.controller.once(A.event+":exit",A.onExitOnce),A.onEnter&&t.controller.on(A.event+":enter",A.onEnter),A.onExit&&t.controller.on(A.event+":exit",A.onExit)):(A.onEventOnce&&t.controller.once(A.event,A.onEventOnce),A.onEventReverseOnce&&t.controller.once(A.event+":reverse",A.onEventReverseOnce),A.onEvent&&t.controller.on(A.event,A.onEvent),A.onEventReverse&&t.controller.on(A.event+":reverse",A.onEventReverse)),t}addRAFLoop(A){let e=["start","end"];if(!e.every(e=>A.hasOwnProperty(e)))return void console.log("BubbleGum.BaseComponent::addRAFLoop required options are missing: "+e.join(" "));const t=new r.create;t.on("update",A.onUpdate||n),t.on("draw",A.onDraw||n),t.on("draw",()=>t.run());const{onEnter:i,onExit:s}=A;return A.onEnter=()=>{t.run(),i&&i()},A.onExit=()=>{t.cancel(),s&&s()},this.addDiscreteEvent(A)}addContinuousEvent(A){A.onDraw||console.log("BubbleGum.BaseComponent::addContinuousEvent required option `onDraw` is missing. Consider using a regular keyframe if you do not need a callback"),A.event=A.event||"Generic-Event-Name-"+o++;let e=this.addKeyframe(A);return e.controller.on(A.event,A.onDraw),e}mounted(){}onResizeImmediate(A){}onResizeDebounced(A){}onBreakpointChange(A){}get anim(){return this.gum.anim}get keyframeController(){return this._keyframeController||(this._keyframeController=this.anim.getControllerForTarget(this.el))}get pageMetrics(){return s.pageMetrics}}},{11:11,23:23,29:29,33:33,47:47}],70:[function(A,e,t){"use strict";const i=A(11).EventEmitterMicro,s=A(84),r=A(40),n=A(47),o=A(71),a={};class h extends i{constructor(A,e={}){super(),this.el=A,this.anim=r,this.componentAttribute=e.attribute||"data-component-list",this.components=[],this.componentsInitialized=!1,this.el.getAttribute("data-anim-scroll-group")||this.el.setAttribute("data-anim-scroll-group","bubble-gum-group"),s.add(()=>{r.initialize().then(()=>{this.initComponents(),this.setupEvents(),this.components.forEach(A=>A.mounted()),this.trigger(h.EVENTS.DOM_COMPONENTS_MOUNTED)})})}initComponents(){const A=Array.prototype.slice.call(this.el.querySelectorAll("[".concat(this.componentAttribute,"]")));this.el.hasAttribute(this.componentAttribute)&&A.push(this.el);for(let e=0;e<A.length;e++){let t=A[e],i=t.getAttribute(this.componentAttribute).split(" ");for(let A=0,e=i.length;A<e;A++){let e=i[A];""!==e&&" "!==e&&this.addComponent({el:t,componentName:e})}}this.componentsInitialized=!0}setupEvents(){this.onResizeDebounced=this.onResizeDebounced.bind(this),this.onResizeImmediate=this.onResizeImmediate.bind(this),this.onBreakpointChange=this.onBreakpointChange.bind(this),r.on(n.PageEvents.ON_RESIZE_IMMEDIATE,this.onResizeImmediate),r.on(n.PageEvents.ON_RESIZE_DEBOUNCED,this.onResizeDebounced),r.on(n.PageEvents.ON_BREAKPOINT_CHANGE,this.onBreakpointChange)}addComponent(A){const{el:e,componentName:t,data:i}=A;if(!o.hasOwnProperty(t))throw"BubbleGum::addComponent could not add component to '"+e.className+"'. No component type '"+t+"' found!";const s=o[t];if(!h.componentIsSupported(s,t))return void 0===a[t]&&(console.log("BubbleGum::addComponent unsupported component '"+t+"'. Reason: '"+t+".IS_SUPPORTED' returned false"),a[t]=!0),null;let r=e.dataset.componentList||"";r.includes(t)||(e.dataset.componentList=r.split(" ").concat(t).join(" "));let l=new s({el:e,data:i,componentName:A.componentName,gum:this,pageMetrics:n.pageMetrics});return this.components.push(l),this.componentsInitialized&&l.mounted(),l}removeComponent(A){const e=this.components.indexOf(A);-1!==e&&(this.components.splice(e,1),A.el.dataset.componentList=A.el.dataset.componentList.split(" ").filter(e=>e!==A.componentName).join(" "),A.destroy())}getComponentOfType(A,e=document.documentElement){const t="[".concat(this.componentAttribute,"*=").concat(A,"]"),i=e.matches(t)?e:e.querySelector(t);return i?this.components.find(e=>e instanceof o[A]&&e.el===i):null}getComponentsOfType(A,e=document.documentElement){const t="[".concat(this.componentAttribute,"*=").concat(A,"]"),i=e.matches(t)?[e]:Array.from(e.querySelectorAll(t));return this.components.filter(e=>e instanceof o[A]&&i.includes(e.el))}getComponentsForElement(A){return this.components.filter(e=>e.el===A)}onResizeImmediate(){this.components.forEach(A=>A.onResizeImmediate(n.pageMetrics))}onResizeDebounced(){this.components.forEach(A=>A.onResizeDebounced(n.pageMetrics))}onBreakpointChange(){this.components.forEach(A=>A.onBreakpointChange(n.pageMetrics))}static componentIsSupported(A,e){const t=A.IS_SUPPORTED;if(void 0===t)return!0;if("function"!=typeof t)return console.error('BubbleGum::addComponent error in "'+e+'".IS_SUPPORTED - it should be a function which returns true/false'),!0;const i=A.IS_SUPPORTED();return void 0===i?(console.error('BubbleGum::addComponent error in "'+e+'".IS_SUPPORTED - it should be a function which returns true/false'),!0):i}}h.EVENTS={DOM_COMPONENTS_MOUNTED:"DOM_COMPONENTS_MOUNTED"},e.exports=h},{11:11,40:40,47:47,71:71,84:84}],71:[function(A,e,t){"use strict";e.exports={BaseComponent:A(69)}},{69:69}],72:[function(A,e,t){"use strict";var i,s=A(11).EventEmitterMicro,r=A(35),n=A(21);function o(A){A=A||{},s.call(this),this.id=n.getNewID(),this.executor=A.executor||r,this._reset(),this._willRun=!1,this._didDestroy=!1}(i=o.prototype=Object.create(s.prototype)).run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},i.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},i.destroy=function(){var A=this.willRun();return this.cancel(),this.executor=null,s.prototype.destroy.call(this),this._didDestroy=!0,A},i.willRun=function(){return this._willRun},i.isRunning=function(){return this._isRunning},i._subscribe=function(){return this.executor.subscribe(this)},i._unsubscribe=function(){return this.executor.unsubscribe(this)},i._onAnimationFrameStart=function(A){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",A))},i._onAnimationFrameEnd=function(A){this._willRun||(this.trigger("stop",A),this._reset())},i._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},e.exports=o},{11:11,21:21,35:35}],73:[function(A,e,t){"use strict";var i=A(75),s=function(A){this.rafEmitter=new i,this.rafEmitter.on(A,this._onRAFExecuted.bind(this)),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._frameCallbacks=[],this._nextFrameCallbacks=[],this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},r=s.prototype;r.requestAnimationFrame=function(A){return this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,A),this._nextFrameCallbacksLength+=2,this._currentFrameID},r.cancelAnimationFrame=function(A){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(A),-1!==this._cancelFrameIdx&&(this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel())},r._onRAFExecuted=function(A){for(this._frameCallbacks=this._nextFrameCallbacks,this._frameCallbackLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks=[],this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](A.time,A)},e.exports=s},{75:75}],74:[function(A,e,t){"use strict";var i=A(73),s=function(){this.events={}},r=s.prototype;r.requestAnimationFrame=function(A){return this.events[A]||(this.events[A]=new i(A)),this.events[A].requestAnimationFrame},r.cancelAnimationFrame=function(A){return this.events[A]||(this.events[A]=new i(A)),this.events[A].cancelAnimationFrame},e.exports=new s},{73:73}],75:[function(A,e,t){"use strict";var i=A(72),s=function(A){i.call(this,A)};(s.prototype=Object.create(i.prototype))._subscribe=function(){return this.executor.subscribe(this,!0)},e.exports=s},{72:72}],76:[function(A,e,t){"use strict";var i=A(74);e.exports=i.requestAnimationFrame("draw")},{74:74}],77:[function(A,e,t){"use strict";var i=A(74);e.exports=i.requestAnimationFrame("update")},{74:74}],78:[function(A,e,t){"use strict";const i=A(77),s=A(76),r=A(79),n=A(81),o=A(82),a=A(80);e.exports=class{constructor(A,e={}){if("number"!=typeof A||!isFinite(A))throw new TypeError('Clip duration must be a finite number; got "'.concat(A,'"'));"function"==typeof e&&(e={draw:e}),this.ease=n(e.ease),this.update=n(e.update),this.draw=e.draw,this.prepare=n(e.prepare),this.finish=n(e.finish),this._duration=1e3*A,this._startTime=null,this._isPrepared=!1,this._promise=null,this._isPlaying=!1}get isReversed(){return this._duration<0}get isComplete(){const A=this.progress;return!this.isReversed&&A>=1||this.isReversed&&A<=0}get progress(){if(0===this._duration)return 1;let A=(this.lastFrameTime-this._startTime)/this._duration;return this.isReversed&&(A=1+A),a(A,0,1)}get easedProgress(){return this.ease?this.ease(this.progress):this.progress}_run(A,e){this.lastFrameTime=Date.now(),null===this._startTime&&(this._startTime=this.lastFrameTime);const t=this.easedProgress;this.update&&i(()=>this._isPlaying&&this.update(t)),s(()=>{this._isPlaying&&(this.draw(t),this.isComplete?o(s,[this.finish,e]):this._run(this,e))})}play(){if("function"!=typeof this.draw)throw new Error('Clip must be given a "draw" function as an option or have its "draw" method overriden.');return this._isPlaying=!0,this._promise||(this._promise=new Promise((A,e)=>{!this._isPrepared&&this.prepare?(this._isPrepared=!0,s(()=>r(this.prepare(),()=>{this._run(this,A)}))):this._run(this,A)})),this._promise}destroy(){this._isPlaying=!1,this.draw=this.finish=this.update=null}static play(){return new this(...arguments).play()}}},{76:76,77:77,79:79,80:80,81:81,82:82}],79:[function(A,e,t){"use strict";e.exports=function(A,e){A instanceof Promise?A.then(e):e()}},{}],80:[function(A,e,t){"use strict";e.exports=function(A,e,t){return Math.min(Math.max(A,e),t)}},{}],81:[function(A,e,t){"use strict";e.exports=function(A){return"function"==typeof A?A:null}},{}],82:[function(A,e,t){"use strict";e.exports=function(A,e){const t=e.length;let i=0;!function s(){"function"==typeof e[i]&&A(e[i]),i++,i<t&&s()}()}},{}],83:[function(A,e,t){"use strict";"undefined"!=typeof window&&(window.DOMMatrix=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix);const i=180/Math.PI,s=A=>Math.round(1e6*A)/1e6;function r(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1]+A[2]*A[2])}function n(A,e){return 0===e?Array.from(A):[A[0]/e,A[1]/e,A[2]/e]}function o(A,e){return A[0]*e[0]+A[1]*e[1]+A[2]*e[2]}function a(A,e,t,i){return[A[0]*t+e[0]*i,A[1]*t+e[1]*i,A[2]*t+e[2]*i]}function h(A){const e=new Float32Array(4),t=new Float32Array(3),h=new Float32Array(3),l=new Float32Array(3);l[0]=A[3][0],l[1]=A[3][1],l[2]=A[3][2];const c=new Array(3);for(let e=0;e<3;e++)c[e]=A[e].slice(0,3);t[0]=r(c[0]),c[0]=n(c[0],t[0]),h[0]=o(c[0],c[1]),c[1]=a(c[1],c[0],1,-h[0]),t[1]=r(c[1]),c[1]=n(c[1],t[1]),h[0]/=t[1],h[1]=o(c[0],c[2]),c[2]=a(c[2],c[0],1,-h[1]),h[2]=o(c[1],c[2]),c[2]=a(c[2],c[1],1,-h[2]),t[2]=r(c[2]),c[2]=n(c[2],t[2]),h[1]/=t[2],h[2]/=t[2];const u=(d=c[1],m=c[2],[d[1]*m[2]-d[2]*m[1],d[2]*m[0]-d[0]*m[2],d[0]*m[1]-d[1]*m[0]]);var d,m;if(o(c[0],u)<0)for(let A=0;A<3;A++)t[A]*=-1,c[A][0]*=-1,c[A][1]*=-1,c[A][2]*=-1;let g;return e[0]=.5*Math.sqrt(Math.max(1+c[0][0]-c[1][1]-c[2][2],0)),e[1]=.5*Math.sqrt(Math.max(1-c[0][0]+c[1][1]-c[2][2],0)),e[2]=.5*Math.sqrt(Math.max(1-c[0][0]-c[1][1]+c[2][2],0)),e[3]=.5*Math.sqrt(Math.max(1+c[0][0]+c[1][1]+c[2][2],0)),c[2][1]>c[1][2]&&(e[0]=-e[0]),c[0][2]>c[2][0]&&(e[1]=-e[1]),c[1][0]>c[0][1]&&(e[2]=-e[2]),g=e[0]<.001&&e[0]>=0&&e[1]<.001&&e[1]>=0?[0,0,s(180*Math.atan2(c[0][1],c[0][0])/Math.PI)]:function(A){const[e,t,r,n]=A,o=e*e,a=t*t,h=r*r,l=e*t+r*n,c=n*n+o+a+h;return l>.49999*c?[0,2*Math.atan2(e,n)*i,90]:l<-.49999*c?[0,-2*Math.atan2(e,n)*i,-90]:[s(Math.atan2(2*e*n-2*t*r,1-2*o-2*h)*i),s(Math.atan2(2*t*n-2*e*r,1-2*a-2*h)*i),s(Math.asin(2*e*t+2*r*n)*i)]}(e),{translation:l,rotation:g,eulerRotation:g,scale:[s(t[0]),s(t[1]),s(t[2])]}}e.exports=function(A){A instanceof Element&&(A=String(getComputedStyle(A).transform).trim());let e=new DOMMatrix(A);const t=new Array(4);for(let A=1;A<5;A++){const i=t[A-1]=new Float32Array(4);for(let t=1;t<5;t++)i[t-1]=e["m".concat(A).concat(t)]}return h(t)}},{}],84:[function(A,e,t){"use strict";let i=!1,s=!1,r=[],n=-1;e.exports={NUMBER_OF_FRAMES_TO_WAIT:30,add:function(A){if(s&&A(),r.push(A),i)return;i=!0;let e=document.documentElement.scrollHeight,t=0;const o=()=>{let A=document.documentElement.scrollHeight;if(e!==A)t=0;else if(t++,t>=this.NUMBER_OF_FRAMES_TO_WAIT)return void r.forEach(A=>A());e=A,n=requestAnimationFrame(o)};n=requestAnimationFrame(o)},reset(){cancelAnimationFrame(n),i=!1,s=!1,r=[]}}},{}],85:[function(A,e,t){"use strict";e.exports={getWindow:function(){return window},getDocument:function(){return document},getNavigator:function(){return navigator}}},{}],86:[function(A,e,t){"use strict";var i=A(85);e.exports=function(){var A=i.getWindow().matchMedia("(prefers-reduced-motion)");return!(!A||!A.matches)}},{85:85}],87:[function(A,e,t){"use strict";const i=A(95),s=A(11).EventEmitterMicro,r=A(33),n=A(88);var o,a="";navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(a=n);e.exports=class extends s{constructor(A,e={}){if(super(),"VIDEO"!==A.tagName.toUpperCase())throw"@marcom/InlineVideoProxy : element should be a VIDEO tag";if(A.__InlineVideoProxyInstance)throw'@marcom/InlineVideoProxy : This Video element is already managed by InlineVideoProxyHub, look for the instance in "videoElement.__InlineVideoProxyInstance" ';return null!==A.getAttribute("src")&&this.log('Warning the video already contains a SRC defined. it is not recommended to have one on load., set the "data-video-source-basepath" attribute in the video tag instead.'),this.videoElement=A,o=e.EVENTS,this._logs=e.log||!1,this._checkLogEnabled(),this.log("starting Video Loader"),this._manualLoad=e.manualLoad||!1,this._enableHardCacheClean=e.cacheClean||!1,this._enableHardCacheClean&&console.error("@marcom/InlineVideoProxy : cache clean option is enabled DISABLE FOR PRODUCTION"),this._elementEnteredView=this._elementEnteredView.bind(this),this._elementExitedView=this._elementExitedView.bind(this),this._elementEnteredLoadingArea=this._elementEnteredLoadingArea.bind(this),this._elementExitedLoadingArea=this._elementExitedLoadingArea.bind(this),this._onChangeCallback=this._onChangeCallback.bind(this),this._onChangeRetinaCallback=this._onChangeRetinaCallback.bind(this),this.VIDEO_PREVENT_LOAD="data-video-prevent-load",this.VIDEO_DATA_BASEPATH="data-video-source-basepath",this.VIDEO_SOURCE_PREFIX="data-video-source-prefix",this.VIDEO_RETINA_ENABLED="data-video-source-retina-enabled",this.VIDEO_VIEW_AREA_KEYFRAME="data-view-area-keyframe",this.VIDEO_LOADING_AREA_KEYFRAME="data-loading-area-keyframe",this.animSystem=this._findAnim(),null===this.animSystem?(this.log("anim not found"),null):(this._scrollGroup=this.animSystem.getGroupForTarget(document.body),this.viewportEmitterMicro=e.viewportEmitterMicro,this.viewportEmitterMicro.on(i.CHANGE_EVENTS.VIEWPORT,this._onChangeCallback),this.viewportEmitterMicro.on(i.CHANGE_EVENTS.RETINA,this._onChangeRetinaCallback),this.videoStatsMap=new Map,this.keyframes={},"loading"===document.readyState?document.addEventListener("readystatechange",A=>{"interactive"===document.readyState&&this._initVL()}):this._initVL(),this.videoElement.__InlineVideoProxyInstance=this,this)}_initVL(){this._enhanceVideos()}_findAnim(){var A=Array.from(document.querySelectorAll("[data-anim-group],[data-anim-scroll-group],[data-anim-time-group]"));return A.map(A=>A._animInfo?A._animInfo.group:null).filter(A=>null!==A),A[0]&&A[0]._animInfo?A[0]._animInfo.group.anim:(console.error("@marcom/InlineVideoProxy : AnimSystem not found, please initialize anim before instantiating vl"),null)}_checkLogEnabled(){this._logs?this.log=(...A)=>console.warn("@marcom/InlineVideoProxy :",...A):this.log=()=>{}}_onChangeCallback(A){this._changeVideoSource()}_onChangeRetinaCallback(A){this._changeVideoSource(!0)}_getAllVideoSources(A){this._videoSourceBasepath=A.getAttribute(this.VIDEO_DATA_BASEPATH),this._videoSourceBasepath||console.error("VideoProxy :  Base path not defined, please provide a full relative path to the video with a trailing '/' "),this._videoSourcePrefix=A.getAttribute(this.VIDEO_SOURCE_PREFIX)||"",this._videoSourceRetinaEnabled=A.getAttribute(this.VIDEO_RETINA_ENABLED)||"false";let e=A=>{let e=this._enableHardCacheClean?"?"+Math.round(1e6*Math.random()):"",t={};return t.x="".concat(this._videoSourceBasepath).concat(this._videoSourcePrefix).concat(A,".mp4").concat(e),t.xx="".concat(this._videoSourceBasepath).concat(this._videoSourcePrefix).concat(A,".mp4").concat(e),"false"!==this._videoSourceRetinaEnabled&&(t.xx="".concat(this._videoSourceBasepath).concat(this._videoSourcePrefix).concat(A,"https://www.apple.com.cn/v/iphone/switch/f/built/scripts/_2x.mp4").concat(e)),t},t=this.viewportEmitterMicro.BREAKPOINTS.reduce((A,t,i)=>{let s={};return Object.defineProperty(s,t.name,{value:e(t.name),enumerable:!0}),A=Object.assign(A,s)},{});this.videoSources=t}_getVideoSource(A){let e=this.viewportEmitterMicro.retina?"xx":"x",t=this.viewportEmitterMicro.viewport;this.videoSource=this.videoSources[t][e],this._addToStatsMap(A),this.viewportEmitterMicro.BREAKPOINTS.map(A=>"vp-"+A.name).forEach(e=>A.classList.remove(e)),A.classList.add("vp-"+t)}_addToStatsMap(A){this.videoStatsMap.has(A.videoSource)||this.videoStatsMap.set(A.videoSource,{})}_updateStatsMap(A,e,t){this.videoStatsMap.get(A.videoSource)[e]=t}_getValueStatsMap(A,e){let t=this.videoStatsMap.get(A.videoSource);return null!==t[e]?t[e]:null}_enhanceVideos(){let A=this.videoElement;this._getAllVideoSources(A),this._getVideoSource(A),this._isUnloadedVariable=!1,Object.defineProperty(this,"isUnloaded",{get(){return this._isUnloadedVariable},set(e){e?(A.classList.remove("video-loaded"),A.classList.add("video-unloaded")):(A.classList.add("video-loaded"),A.classList.remove("video-unloaded")),this._isUnloadedVariable=e}}),Object.defineProperty(this,"currentTime",{get(){return this.videoElement.currentTime}}),Object.defineProperty(this,"duration",{get(){return A.duration?A.duration:(this.log("Warning on duration:: wait for metadata to be loaded to get duration"),-1)}}),this.isUnloaded=!0,this.isInViewArea=!1,this.isInLoadingArea=!1,this.loadProgress=0,this.hasMetadata=!1,this.downloadComplete=!1,this.canBePlayedThrough=!1,this._preventLoad=this._shouldPreventLoadViewportSize(A),A.setAttribute("src",a),this.promises={},this.promises.hasMetadata=null,this.promises.canBePlayedThrough=null,this.promises.downloadComplete=null,this._initVideoPromises(this);let e=()=>{r((t,i)=>{this.isUnloaded||(!this.hasMetadata&&A.readyState>=1&&this._promiseResolver.hasMetadata(A),!this.canBePlayedThrough&&A.readyState>3&&this._promiseResolver.canBePlayedThrough(A),A.buffered.length&&(this.loadProgress=A.buffered.end(0),A.buffered.end(0)>=.99*A.duration)?this._promiseResolver.downloadComplete(A):e())})};this._startCheckStats=()=>{e()},this.animSystemVersion=2,"function"==typeof this.animSystem.remove&&(this.animSystemVersion=3);let t=A.getAttribute(this.VIDEO_LOADING_AREA_KEYFRAME);t=null===t?3===this.animSystemVersion?{start:"t - 200vh",end:"b + 100vh"}:{start:"0% - 200vh",end:"100% + 100vh"}:JSON.parse(t),t.event="video-proxy-loading-area";let i=A.getAttribute(this.VIDEO_VIEW_AREA_KEYFRAME);i=null===i?3===this.animSystemVersion?{start:"t - 100vh",end:"b"}:{start:"0% - 100vh",end:"100%"}:JSON.parse(i),i.event="video-proxy-view-area",this.keyframes.loadArea=this._scrollGroup.addKeyframe(A,t),this.keyframes.loadArea.controller.on("video-proxy-loading-area:enter",this._elementEnteredLoadingArea),this.keyframes.loadArea.controller.on("video-proxy-loading-area:exit",this._elementExitedLoadingArea),this.keyframes.viewArea=this._scrollGroup.addKeyframe(A,i),this.keyframes.viewArea.controller.on("video-proxy-view-area:enter",this._elementEnteredView),this.keyframes.viewArea.controller.on("video-proxy-view-area:exit",this._elementExitedView),this.stopLoad=(e=!0)=>{this.isUnloaded||(A.setAttribute("src",a),this.isUnloaded=!0,e?(this.downloadComplete=!0,this.trigger(o.DOWNLOAD_CANCEL,this)):this.trigger(o.DOWNLOAD_PAUSE,this))},this.stop=()=>{this._videoPlayPromise?this._videoPlayPromise.then(()=>{A.pause(),A.currentTime=0}).catch(e=>{this.log("error when stopping",e,A)}):A.pause()},this.pause=()=>{r((e,t)=>{A.pause()})},this.play=()=>new Promise(e=>A.getAttribute("paused")?(this.log("paused video:",A),void e(!1)):this._shouldPreventLoadViewportSize(A)?(e(!1),void this.log("cannot play a video in this viewport that has attribute :"+this.VIDEO_PREVENT_LOAD,A)):void r((t,i)=>{r((t,i)=>{setTimeout(()=>{this._videoPlayPromise=Object.getPrototypeOf(A).play.call(A),this.trigger("playing",A),e(A),this._videoPlayPromise&&this._videoPlayPromise.catch(e=>{this.isUnloaded&&this.log("error when playing, there is no src",e,A,"this.isUnloaded:",this.isUnloaded)})},20)})})),this.gotoAndPlay=(e=null)=>new Promise(t=>A.getAttribute("paused")?(this.log("paused video:",A),void t(!1)):this._shouldPreventLoadViewportSize(A)?(t(!1),void this.log("cannot play a video that has attribute :"+this.VIDEO_PREVENT_LOAD,A)):void r((i,s)=>{null!==e&&(A.pause(),A.currentTime=e),r((e,i)=>{setTimeout(()=>{this._videoPlayPromise=Object.getPrototypeOf(A).play.call(A),this.trigger("playing",A),t(A),this._videoPlayPromise&&this._videoPlayPromise.catch(e=>{this.isUnloaded&&this.log("error when playing, there is no src",e,A,"this.isUnloaded:",this.isUnloaded)})},20)})})),this.gotoAndStop=(e=null)=>new Promise(t=>A.getAttribute("paused")?(this.log("paused video:",A),void t(!1)):this._shouldPreventLoadViewportSize(A)?(t(!1),void this.log("cannot play a video that has attribute :"+this.VIDEO_PREVENT_LOAD,A)):void r((i,s)=>{null!==e&&(A.pause(),A.currentTime=e,this.trigger("paused",A),t(A))})),this.startLoad=()=>{this._startDownloading()},this.loadSrc=()=>{this._preventLoad?this.log("cannot load a video that has attribute :"+this.VIDEO_PREVENT_LOAD,A):this._videoPlayPromise?this._videoPlayPromise.then(()=>{Object.getPrototypeOf(A).load.call(A)}).catch(e=>{this.isUnloaded&&this.log("error when loading the play function was interrupted",e,A,"isUnloaded",this.isUnloaded)}):Object.getPrototypeOf(A).load.call(A)}}_shouldPreventLoadViewportSize(A){if(0===A.offsetHeight)return this.log(" this video is not displayed, make sure it has a display attribute different than 'none' on any of its ancestors"),!0;let e=this.viewportEmitterMicro.viewport.toUpperCase(),t=A.getAttribute(this.VIDEO_PREVENT_LOAD);return null!==t&&(""===t||(t=JSON.parse(t),t=t.map(A=>A.toUpperCase()),null!=t.find(A=>e===A)))}_initVideoPromises(A){this._promiseResolver={},this._promiseResolver.hasMetadata=null,this._promiseResolver.canBePlayedThrough=null,this._promiseResolver.downloadComplete=null;this.promises.hasMetadata=new Promise(A=>{this._promiseResolver.hasMetadata=A}).then(A=>(this.hasMetadata=!0,this.trigger(o.HAS_METADATA,this),this.log(":::Video has metadata:::",A.className),A));this.promises.canBePlayedThrough=new Promise(A=>{this._promiseResolver.canBePlayedThrough=A}).then(A=>(this.canBePlayedThrough=!0,this._promiseResolver.hasMetadata(A),r(()=>{A.classList.add("video-can-play")}),this.trigger(o.CAN_PLAY_THROUGH,this),this.log(":::Video Ready to play:::",A.className),A));this.promises.downloadComplete=new Promise(A=>{this._promiseResolver.downloadComplete=A}).then(A=>(this.downloadComplete=!0,this._promiseResolver.canBePlayedThrough(A),r(()=>{A.classList.add("video-download-complete")}),this.trigger(o.DOWNLOAD_COMPLETE,this),this.log(":::Video fully Downloaded:::",A.className),A))}_elementEnteredView(A){if(this.trigger(o.VIDEO_ENTER_VIEW_AREA,this),this.isInViewArea=!0,A.element.autoplay){A.element.currentTime=0;let e=A.element.play();void 0!==e&&e.catch(A=>{})}}_elementExitedView(A){this.isInViewArea=!1,this.trigger(o.VIDEO_EXIT_VIEW_AREA,this)}_elementEnteredLoadingArea(A){this.trigger(o.VIDEO_ENTER_LOAD_AREA,this),this.isInLoadingArea=!0,this._manualLoad||this._startDownloading()}_elementExitedLoadingArea(A){this.trigger(o.VIDEO_EXIT_LOAD_AREA,this),this.isInLoadingArea=!1}_changeVideoSource(A=!1){A&&"false"===this.videoElement._videoSourceRetinaEnabled||(this.pause(),this.stopLoad(!1),this._getVideoSource(this.videoElement),this.loadProgress=0,this.downloadComplete=!1,this.canBePlayedThrough=!1,this.hasMetadata=!1,this.isUnloaded=!0,this._preventLoad=this._shouldPreventLoadViewportSize(this.videoElement),r(()=>{this.videoElement.classList.remove("video-download-complete"),this.videoElement.classList.remove("video-can-play")}),this._initVideoPromises(this),!this._manualLoad&&this.keyframes.loadArea.isCurrentlyInRange&&this._startDownloading())}_startDownloading(){this._preventLoad=this._shouldPreventLoadViewportSize(this.videoElement),this._preventLoad||this.isUnloaded&&(this.videoElement.setAttribute("src",this.videoSource),this.isUnloaded=!1,this.loadSrc(),this._startCheckStats())}}},{11:11,33:33,88:88,95:95}],88:[function(A,e,t){"use strict";e.exports="data:video/mp4;base64,AAAAGGZ0eXBtcDQyAAAAAG1wNDJtcDQxAAAP/m1vb3YAAABsbXZoZAAAAADXfsFZ137BWQABX5AAAB4AAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAA0YdHJhawAAAFx0a2hkAAAAAdd+wVnXfsFZAAAAAQAAAAAAAAu7AAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAQAAAAEAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAAALuwAAAAAAAQAAAAAMkG1kaWEAAAAgbWRoZAAAAADXfsFZ137BWQAAdTAAAAPpFccAAAAAAEBoZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAH01haW5jb25jZXB0IFZpZGVvIE1lZGlhIEhhbmRsZXIAAAwobWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAM2hkbHIAAAAAAAAAAGFsaXMAAAAAAAAAAAAAAABBbGlhcyBEYXRhIEhhbmRsZXIAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAALtXN0YmwAAAtEc3RzZAAAAAAAAAABAAALNGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAEAAQAEgAAABIAAAAAAAAAAEKQVZDIENvZGluZwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAreYXZjQwFNQB//4QAUZ01AH5ZSvSkGBgZAAAD6QAA6mCEBCrdo6Qk1IAAAAAEGBf////////////+iTUNTVBcOfdWkmlkokmrknsrlzzwBWDdTFUUJOHTxzQSPGJMFyJEvmzMFWFMyJEvomzJESyJOUFSWBMvnuzSFPSEFSJOHyEFMBZvpzVTFyCyTMJDFTvlzJOUFSMBDFyNPEFvlzEFGyIPSJaPOUBMyTJaFvmrzEFGyWFSUJDBMyTJaFvmrzGSBNFySBUFvnukusllnuusllzOVNySFGFSFODFyGSBNFTvpzTFBSDIySBOHFvmppzSEyPQUJNJaBUJPOvmzNBYyMlyBDUJWFvlzNBYyMmyBDUJWFvlzRVBOUyQJvnpzRVBOUyQQvnqzRVBOUyQCvnszCJUySBUFyNPEFvnzCJUySBUFyCVGGFSyTJaFvmtspuunzCJUySBUFvmlllllllzNBYyCJUySBUFvmnllllllzJOUFSyTFBSDIyTIBQFvmzFOUSPQZyDPEJOHyNPEFvmzVTFyIBEBNBSEyUSBOTGPSNvlzTBSyXJEUIvmzTBSyIFJHIUvmzWJEFPyGPSNBUvnzWJEFPyGVMMySBOHFvlzOVNyVOJUTyJOyUJDLvmllmzUJNFyTDBMFvollllzWCWyCVGGFSyGVMMOFTTvmlzWCWyCVGGFSyGVMMOFTTyUSHvmllzWCWyCVGGFSyVOJUTvlzDQCySFNPWBMyEFMBZvlzCJUySBUFyTDBMFvmzDQCyTJaFyTDBMFvozNBYyGSBNFyTJaFvblilililczISEyNBJOUBJOvmzNJOyGSBNFyTJaFvblilililczISEyMPXyEFMBZvlzTNPPUIyGBDUPSvlzISEyQSFWJFXvlzVTFyEFCMPDLJOHyGJMUFSvmzEFCMPDLJOHyBMQIBDlyPGGTFUvjmzEFCMPDLJOHyCFUByPGGTFUvjmzBEBQUJWFyEFCMPDLJOHvlzWJEFPyUZQFvnzWJEFPyQVMMEPXOyGMBHvlzPWFSTDBOyBQQSPQSJBUFyGMBHvlzDPMPVSyQSJNBSJFTvrzUSBOTGFSyDIBSBDUFSJTUJDTvrzNBUSJYyDPFGGJDJFOUTvrzFYUFOEFEyTBSvmzTUSFBNyUZQFvnzGSBNFyNCTyNPEFvlzCJUyEFQUIyMVNBvtzCJUyEFQUIyDISPNBvtzDISPNByGPSNBUvnzQJDyJOJUyRQvnrzQJDyJOJUyRTvnrzWVJyQSFTFOUBUJPOvtuzXSJUFyBVyEFMJNJUFSTvmzXSJUFyTFRyFOEyDPEFvmzXSJUFyUJNFTUBNQTvmzUJNFTUBNQyPGGTFUvlzESN/////0MhkgTRclCTRQzxBb5s10iVBckyThzBckxSckBUsjgTFb5c10iVBckxUckAUskxVL5c10iVBckCQ8kAUskxVL5czDx58jQWMkDw77czDx58jQWMhkgTRcjlTb7c0CQ8j0hBUsgzlMlGUBb5c0CQ8j0hBUskEhUxTlMhjAR75cxiWBRMhkgTRckgVBb5sxkgTRcggUxRMlCTSTh75cxkgTRckAQyyTh8gUkgThxTRTlMjTxBb5c01EhQTcg0hQVCTzskEjxFQ1MiThj75c10iVBckCQ8lCTSTh8kxSb5s10iVBckxVFCTh08iThj75sxkgTRcjlTchwUE8gTDD1xRMhjAR75cw1U1DzcgiVMhjAR075c1g0xMjTxBb5s1g0xMkxTkyQiTCVGb5c0zCQxcjTxBb5s0zCQxcgUh75swskzCQxckhRhUhTgxb5cwskzCQxckGUgTSRL5cwwsjxhkxVL5sw0sjxhkxVL5szRck1QkBTMjTxBb58zRclxSRyFBRMkMjTxBb5szRclxSRyFBRMgsjTxBb5cxTgQjBchgU1MiTlEgchBQyUyTzk75sxTgQjBchgU1MiTlBUshBQyUyTzk75s0CQ8gUsmL45s0CQ8gUsmb45swwTA8kVQTCVGb5cw0Fcj0FL5czlTclCEhQRE75czCVhcjTxBb5cwlRhhUiTh76MzSTskVQTlL5czQWMkVQTlL6pszQWMkzCQxckyWhb5cxTgzxCTh8glRhhUiTh75czD18hBTAWb5cwSUsjTxBb5cxBVAQyMlCEhQRL5swzzk1EgSThRMiTlEgckEhRL5cwSUsk0DCVMhkhUVRTg2b5cwSUskUMjxhkxVL5czSTsiREsiTlBUlgTL5swRAUFCVhcgshkgTRU75syREshkhUVRTg2b5sxiRTBMj0hBUr5cxiWBRMickD0yVCTzr5cyUzzAVBRMhz0E75cyCRUgUskMhkgTRU75cxgU1MjVTFCckhRsjRb5sxgU1Mk1QsgjDwy8jRb5swTDD18j1VMjxskCQ8jVk75swzzk1EgSThRMkhRsjCU1L5cxTgQjBciTlEgcgiR75sxTgQjBciTlEgcrWLb5cxTgQjBciTlEgcqWKb5sxTgQjBciTlEgckAzb5cxTgQjBciTlBUsgiR75sxTgQjBciTlBUsrWLb5cxTgQjBciTlBUsqWKb5sxTgQjBciTlBUskAzb5cxgU1MkhMj0FCTSWgVCTzr5s0VQTlMjTxBb58x0gSTsjTxBb5cx0gSTsj0FMk1EhTh1CL5cwRAUFCVhckVQTlMk1EhTh1CL25YpYpYpYpYpYpYpXMxBTjyUxck1EhTh1CMmb5cxBTjyUxck1EAAAAAIU4dQjIO+XMIwEMvI49I3IwVYUy+XNBUxMXJIURUNQk86+XMFVjIY9I0FTIkQO+ObMIlTIQVBQjIFVi+3MExAgHIk4NLIYwEe+XMExAgHI9AFFUXJYExUW+XMExAgHJRIE5NAFIU5TJYExUW+XNMVHJMMEwk4fI0FRIljJBIVMU5TIYwEe+XNMVHJMMEwk4fIwlNTJBIVMU5TIYwEe9uWKWKWKWKWKWKWKVzMk5RIHJnKlinJMMEwk4fIwlNTCavG9uWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKVzMk5RIHIMLKlinJMMEwk4fIwlNTCavG9uWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKVzMk5RIHINLKlinJMMEwk4fIwlNTCavG9uWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKVzMk5QVLJnKlinJMMEwk4fIwlNTCavG9uWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKVzMk5QVLIMLKlinJMMEwk4fIwlNTCavG9uWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKVzMk5QVLINLKlinJMMEwk4fIwlNTCavG9uWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKVzMk5RIHJnK1i3JMMEwk4fIwlNTCavG9uWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKVzMk5QVLJnK1i3JMMEwk4fIwlNTCavG9uWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKWKVzMQVYkMXIkRi+XMk5BVTIY9I0FS+XM5U3JAFIEwwUzJAkNO+XP+AAAAAGHN0dHMAAAAAAAAAAQAAAAEAAAPpAAAADXNkdHAAAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAZAAAAAQAAABRzdGNvAAAAAAAAAAEAADfuAAACMnRyYWsAAABcdGtoZAAAAAHXfsFZ137BWQAAAAIAAAAAAAALuwAAAAAAAAAAAAAAAAEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAC7sAAAAAAAEAAAAAAaptZGlhAAAAIG1kaGQAAAAA137BWdd+wVkAALuAAAAQABXHAAAAAABEaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAACNNYWluY29uY2VwdCBNUDQgU291bmQgTWVkaWEgSGFuZGxlcgAAAT5taW5mAAAAEHNtaGQAAAAAAAAAAAAAADNoZGxyAAAAAAAAAABhbGlzAAAAAAAAAAAAAAAAQWxpYXMgRGF0YSBIYW5kbGVyAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAM9zdGJsAAAAW3N0c2QAAAAAAAAAAQAAAEttcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAAu4AAAAAAACdlc2RzAAAAAAMZAAAQBBFAFQAGAAAE2LkABNf9BQIRkAYBAgAAABhzdHRzAAAAAAAAAAEAAAAEAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAABAAAAAEAAAAkc3RzegAAAAAAAAAAAAAABAAAA08AAANOAAADTgAAA08AAAAUc3RjbwAAAAAAAAABAAA4BwAAAEB1ZHRhAAAAF6lUSU0ACwAAMDA7MDA7MDA7MDAAAAARqVRTQwAFAAAzMDAwMAAAABCpVFNaAAQAADEwMDEAABs+dXVpZL56z8uXqULonHGZlJHjr6w8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICB4bWxuczp4bXBETT0iaHR0cDovL25zLmFkb2JlLmNvbS94bXAvMS4wL0R5bmFtaWNNZWRpYS8iCiAgICB4bWxuczpzdERpbT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL0RpbWVuc2lvbnMjIgogICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTA3LTI1VDE3OjA3OjUzLTA3OjAwIgogICB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wNy0yNVQxNzowNzo1My0wNzowMCIKICAgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wNy0yNVQxNzowNzo1My0wNzowMCIKICAgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBBZnRlciBFZmZlY3RzIENDIDIwMTcgKE1hY2ludG9zaCkiCiAgIHhtcERNOnZpZGVvRnJhbWVSYXRlPSIyOS45NzAwMzAiCiAgIHhtcERNOnZpZGVvRmllbGRPcmRlcj0iUHJvZ3Jlc3NpdmUiCiAgIHhtcERNOnZpZGVvUGl4ZWxBc3BlY3RSYXRpbz0iMS8xIgogICB4bXBETTphdWRpb1NhbXBsZVJhdGU9IjQ4MDAwIgogICB4bXBETTphdWRpb1NhbXBsZVR5cGU9IjE2SW50IgogICB4bXBETTphdWRpb0NoYW5uZWxUeXBlPSJTdGVyZW8iCiAgIHhtcERNOnN0YXJ0VGltZVNjYWxlPSIzMDAwMCIKICAgeG1wRE06c3RhcnRUaW1lU2FtcGxlU2l6ZT0iMTAwMSIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpmNzkwNDVlMi1lMTY1LTRjZGMtYWUyYS00NTM3ZjZjNGRlMjIiCiAgIHhtcE1NOkRvY3VtZW50SUQ9ImEyMGM2NTBkLTBlYjEtYjcxOC1kNmUwLTRlNjUwMDAwMDAzYiIKICAgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjI3ZTQ2NWVjLWNjMzctNDk1My1hNDI4LTVkNTYxYTdlOGY4MCIKICAgZGM6Zm9ybWF0PSJILjI2NCI+CiAgIDx4bXBETTpkdXJhdGlvbgogICAgeG1wRE06dmFsdWU9Ijc2ODAiCiAgICB4bXBETTpzY2FsZT0iMS85MDAwMCIvPgogICA8eG1wRE06dmlkZW9GcmFtZVNpemUKICAgIHN0RGltOnc9IjE2IgogICAgc3REaW06aD0iMTYiCiAgICBzdERpbTp1bml0PSJwaXhlbCIvPgogICA8eG1wRE06c3RhcnRUaW1lY29kZQogICAgeG1wRE06dGltZUZvcm1hdD0iMjk5N0Ryb3BUaW1lY29kZSIKICAgIHhtcERNOnRpbWVWYWx1ZT0iMDA7MDA7MDA7MDAiLz4KICAgPHhtcERNOmFsdFRpbWVjb2RlCiAgICB4bXBETTp0aW1lVmFsdWU9IjAwOzAwOzAwOzAwIgogICAgeG1wRE06dGltZUZvcm1hdD0iMjk5N0Ryb3BUaW1lY29kZSIvPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0iNjU0YzBhZTQtY2I1My0yZjUxLWIyNzgtYWU5NzAwMDAwMDY4IgogICAgICBzdEV2dDp3aGVuPSIyMDE4LTA3LTI1VDE3OjA3OjUzLTA3OjAwIgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBBZG9iZSBNZWRpYSBFbmNvZGVyIENDIDIwMTcuMSAoTWFjaW50b3NoKSIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIvPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmYyMDhiNDYzLWYzMWYtNDk3Zi1iNDJjLWZhNWI2ZjEwY2VhZiIKICAgICAgc3RFdnQ6d2hlbj0iMjAxOC0wNy0yNVQxNzowNTowNy0wNzowMCIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgQWZ0ZXIgRWZmZWN0cyBDQyAyMDE3IChNYWNpbnRvc2gpIi8+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmMwYWU4MmU0LTdmNmMtNDE0OS04YjEyLTgzMjIwYWU3MzkyNyIKICAgICAgc3RFdnQ6d2hlbj0iMjAxOC0wNy0yNVQxNzowNjowMy0wNzowMCIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgQWZ0ZXIgRWZmZWN0cyBDQyAyMDE3IChNYWNpbnRvc2gpIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvY29udGVudCIvPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2ZTIwMjNlNC1jY2JjLTQxN2EtODMyMC05YWIwNzMzY2ZlYWUiCiAgICAgIHN0RXZ0OndoZW49IjIwMTgtMDctMjVUMTc6MDY6MDMtMDc6MDAiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIEFmdGVyIEVmZmVjdHMgQ0MgMjAxNyAoTWFjaW50b3NoKSIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIvPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDplNWUyYWRlNC1jNzk2LTQ5ZWMtOWVkOS05Y2Y0Yzg3NWEzNzQiCiAgICAgIHN0RXZ0OndoZW49IjIwMTgtMDctMjVUMTc6MDc6NTMtMDc6MDAiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIEFkb2JlIE1lZGlhIEVuY29kZXIgQ0MgMjAxNy4xIChNYWNpbnRvc2gpIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvIi8+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmY3OTA0NWUyLWUxNjUtNGNkYy1hZTJhLTQ1MzdmNmM0ZGUyMiIKICAgICAgc3RFdnQ6d2hlbj0iMjAxOC0wNy0yNVQxNzowNzo1My0wNzowMCIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgQWRvYmUgTWVkaWEgRW5jb2RlciBDQyAyMDE3LjEgKE1hY2ludG9zaCkiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii9tZXRhZGF0YSIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgIDx4bXBNTTpEZXJpdmVkRnJvbQogICAgc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozNzhlMGNhYy04YzI0LTQ3OWItYTA2Mi0xZmU4MzgxZmM0NDciCiAgICBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjM3OGUwY2FjLThjMjQtNDc5Yi1hMDYyLTFmZTgzODFmYzQ0NyIKICAgIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmMjA4YjQ2My1mMzFmLTQ5N2YtYjQyYy1mYTViNmYxMGNlYWYiLz4KICAgPHhtcE1NOkluZ3JlZGllbnRzPgogICAgPHJkZjpCYWc+CiAgICAgPHJkZjpsaQogICAgICBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjZjZTE1MDM0LWQ2MTAtNGI2NS1hMzI0LTMwMWJjYWVlNTc2MyIKICAgICAgc3RSZWY6ZnJvbVBhcnQ9InRpbWU6MGQ4MDA4ZjI0MDAwMCIKICAgICAgc3RSZWY6dG9QYXJ0PSJ0aW1lOjBkODAwOGYyNDAwMDAiCiAgICAgIHN0UmVmOm1hc2tNYXJrZXJzPSJOb25lIi8+CiAgICA8L3JkZjpCYWc+CiAgIDwveG1wTU06SW5ncmVkaWVudHM+CiAgIDx4bXBNTTpQYW50cnk+CiAgICA8cmRmOkJhZz4KICAgICA8cmRmOmxpPgogICAgICA8cmRmOkRlc2NyaXB0aW9uCiAgICAgICBkYzpmb3JtYXQ9ImFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5hZnRlcmVmZmVjdHMuY29tcCIKICAgICAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NmNlMTUwMzQtZDYxMC00YjY1LWEzMjQtMzAxYmNhZWU1NzYzIj4KICAgICAgPGRjOnRpdGxlPgogICAgICAgPHJkZjpBbHQ+CiAgICAgICAgPHJkZjpsaSB4bWw6bGFuZz0ieC1kZWZhdWx0Ij5Db21wIDE8L3JkZjpsaT4KICAgICAgIDwvcmRmOkFsdD4KICAgICAgPC9kYzp0aXRsZT4KICAgICAgPHhtcE1NOkluZ3JlZGllbnRzPgogICAgICAgPHJkZjpCYWc+CiAgICAgICAgPHJkZjpsaQogICAgICAgICBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmMzOWMzZjE4LWUwNzUtNDI5Zi1hYzNkLTFmYThhMGVlOTI5YyIKICAgICAgICAgc3RSZWY6ZnJvbVBhcnQ9InRpbWU6MGQ4MDA4ZjI0MDAwMCIKICAgICAgICAgc3RSZWY6dG9QYXJ0PSJ0aW1lOjBkODAwOGYyNDAwMDAiCiAgICAgICAgIHN0UmVmOm1hc2tNYXJrZXJzPSJOb25lIi8+CiAgICAgICA8L3JkZjpCYWc+CiAgICAgIDwveG1wTU06SW5ncmVkaWVudHM+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICAgIDwvcmRmOmxpPgogICAgIDxyZGY6bGk+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24KICAgICAgIGRjOmZvcm1hdD0iYXBwbGljYXRpb24vdm5kLmFkb2JlLmFmdGVyZWZmZWN0cy5sYXllciIKICAgICAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YzM5YzNmMTgtZTA3NS00MjlmLWFjM2QtMWZhOGEwZWU5MjljIj4KICAgICAgPGRjOnRpdGxlPgogICAgICAgPHJkZjpBbHQ+CiAgICAgICAgPHJkZjpsaSB4bWw6bGFuZz0ieC1kZWZhdWx0Ij5XaGl0ZSBTb2xpZCAxPC9yZGY6bGk+CiAgICAgICA8L3JkZjpBbHQ+CiAgICAgIDwvZGM6dGl0bGU+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICAgIDwvcmRmOmxpPgogICAgPC9yZGY6QmFnPgogICA8L3htcE1NOlBhbnRyeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PgAADIpmcmVlAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFtZGF0AAAAAAAADWMAAAAVZYiAQABPb/73gb8yy1cB6AAAAAEKIRAFAKAb/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAN/+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADeGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/yEQBQCgG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADf/gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3hYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB7yEQBQCgG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADf/gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3hYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB+yEQBQCgG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADf/gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3hgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAdM="},{}],89:[function(A,e,t){"use strict";const i=A(95),s=A(87);var r=null,n=[];function o(A,e={}){e.viewportEmitterMicro=function(A){const e=[{name:"small",mediaQuery:"only screen and (max-width: 735px)"},{name:"medium",mediaQuery:"only screen and (min-width: 736px) and (max-width: 1068px)"},{name:"large",mediaQuery:"only screen and (min-width: 1069px)"}];let t,s=!!A.breakpoints,n=A.breakpoints;return s?t=new i({breakpoints:n}):(r||(r=new i({breakpoints:e})),t=r),t}(e);let t=new s(A,e);return n.push(t),t}class a{constructor(){throw"InlineVideoProxyHub: cannot be instantiated, use 'https://www.apple.com.cn/v/iphone/switch/f/built/scripts/InlineVideoProxyHub.load'"}static newVideoProxy(A,e={}){return Object.assign(e,{EVENTS:a.EVENTS}),o(A,e)}}a.videoInstances=n,a.EVENTS={},a.EVENTS.HAS_METADATA="hasmetadataevent",a.EVENTS.DOWNLOAD_COMPLETE="downloadCompleteEvent",a.EVENTS.CAN_PLAY_THROUGH="canplaythroughevent",a.EVENTS.DOWNLOAD_PAUSE="downloadPauseEvent",a.EVENTS.DOWNLOAD_CANCEL="downloadCanceledEvent",a.EVENTS.VIDEO_ENTER_VIEW_AREA="videoEnterViewArea",a.EVENTS.VIDEO_ENTER_LOAD_AREA="videoEnterLoadArea",a.EVENTS.VIDEO_EXIT_VIEW_AREA="videoExitViewArea",a.EVENTS.VIDEO_EXIT_LOAD_AREA="videoExitLoadArea",e.exports=a},{87:87,95:95}],90:[function(A,e,t){"use strict";e.exports={lerp:function(A,e,t){return e+(t-e)*A},map:function(A,e,t,i,s){return i+(s-i)*(A-e)/(t-e)},mapClamp:function(A,e,t,i,s){var r=i+(s-i)*(A-e)/(t-e);return Math.max(i,Math.min(s,r))},norm:function(A,e,t){return(A-e)/(t-e)},clamp:function(A,e,t){return Math.max(e,Math.min(t,A))},randFloat:function(A,e){return Math.random()*(e-A)+A},randInt:function(A,e){return Math.floor(Math.random()*(e-A)+A)}}},{}],91:[function(A,e,t){"use strict";e.exports={browser:{safari:!1,chrome:!1,firefox:!1,ie:!1,opera:!1,android:!1,edge:!1,version:{string:"",major:0,minor:0,patch:0,documentMode:!1}},os:{osx:!1,ios:!1,android:!1,windows:!1,linux:!1,fireos:!1,chromeos:!1,version:{string:"",major:0,minor:0,patch:0}}}},{}],92:[function(A,e,t){"use strict";e.exports={browser:[{name:"edge",userAgent:"Edge",version:["rv","Edge"],test:function(A){return A.ua.indexOf("Edge")>-1||"Mozilla/5.0 (Windows NT 10.0; Win64; x64)"===A.ua}},{name:"chrome",userAgent:"Chrome"},{name:"firefox",test:function(A){return A.ua.indexOf("Firefox")>-1&&-1===A.ua.indexOf("Opera")},version:"Firefox"},{name:"android",userAgent:"Android"},{name:"safari",test:function(A){return A.ua.indexOf("Safari")>-1&&A.vendor.indexOf("Apple")>-1},version:"Version"},{name:"ie",test:function(A){return A.ua.indexOf("IE")>-1||A.ua.indexOf("Trident")>-1},version:["MSIE","rv"],parseDocumentMode:function(){var A=!1;return document.documentMode&&(A=parseInt(document.documentMode,10)),A}},{name:"opera",userAgent:"Opera",version:["Version","Opera"]}],os:[{name:"windows",test:function(A){return A.ua.indexOf("Windows")>-1},version:"Windows NT"},{name:"osx",userAgent:"Mac",test:function(A){return A.ua.indexOf("Macintosh")>-1}},{name:"ios",test:function(A){return A.ua.indexOf("iPhone")>-1||A.ua.indexOf("iPad")>-1},version:["iPhone OS","CPU OS"]},{name:"linux",userAgent:"Linux",test:function(A){return(A.ua.indexOf("Linux")>-1||A.platform.indexOf("Linux")>-1)&&-1===A.ua.indexOf("Android")}},{name:"fireos",test:function(A){return A.ua.indexOf("Firefox")>-1&&A.ua.indexOf("Mobile")>-1},version:"rv"},{name:"android",userAgent:"Android",test:function(A){return A.ua.indexOf("Android")>-1}},{name:"chromeos",userAgent:"CrOS"}]}},{}],93:[function(A,e,t){"use strict";var i=A(91),s=A(92);function r(A,e){if("function"==typeof A.parseVersion)return A.parseVersion(e);var t,i=A.version||A.userAgent;"string"==typeof i&&(i=[i]);for(var s,r=i.length,n=0;n<r;n++)if((s=e.match((t=i[n],new RegExp(t+"[a-zA-Z\\s/:]+([0-9_.]+)","i"))))&&s.length>1)return s[1].replace(/_/g,".");return!1}function n(A,e,t){for(var i,s,n=A.length,o=0;o<n;o++)if("function"https://www.apple.com.cn/v/iphone/switch/f/built/scripts/==typeof A[o].test?!0===A[o].test(t)&&(i=A[o].name):t.ua.indexOf(A[o].userAgent)>-1&&(i=A[o].name),i){if(e[i]=!0,"string"==typeof(s=r(A[o],t.ua))){var a=s.split(".");e.version.string=s,a&&a.length>0&&(e.version.major=parseInt(a[0]||0),e.version.minor=parseInt(a[1]||0),e.version.patch=parseInt(a[2]||0))}else"edge"===i&&(e.version.string="12.0.0",e.version.major="12",e.version.minor="0",e.version.patch="0");return"function"==typeof A[o].parseDocumentMode&&(e.version.documentMode=A[o].parseDocumentMode()),e}return e}e.exports=function(A){var e={};return e.browser=n(s.browser,i.browser,A),e.os=n(s.os,i.os,A),e}},{91:91,92:92}],94:[function(A,e,t){"use strict";var i={ua:window.navigator.userAgent,platform:window.navigator.platform,vendor:window.navigator.vendor};e.exports=A(93)(i)},{93:93}],95:[function(A,e,t){"use strict";const i=A(11).EventEmitterMicro,s=[{name:"S",mediaQuery:"only screen and (max-width: 734px)"},{name:"M",mediaQuery:"only screen and (min-width: 735px) and (max-width: 1068px)  "},{name:"L",mediaQuery:"only screen and (min-width: 1069px) and (max-width: 1440px)"},{name:"X",mediaQuery:"only screen and (min-width: 1441px)"}],r="only screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min-resolution: 1.5dppx), screen and (min-resolution: 144dpi)",n="only screen and (orientation: portrait)";class o extends i{constructor(A={}){super(),this.BREAKPOINTS=A.breakpoints||s,this._setupProperties(),this._onRetinaChange=this._onRetinaChange.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this.listenersAdded={orientation:!1,retina:!1,viewport:!1}}static get CHANGE_EVENTS(){return{ORIENTATION:"change:orientation",RETINA:"change:retina",VIEWPORT:"change:viewport"}}on(){this._setupListeners(arguments[0]),super.on.apply(this,arguments)}_onRetinaChange(){this.trigger(o.CHANGE_EVENTS.RETINA,this)}_onOrientationChange(){this.trigger(o.CHANGE_EVENTS.ORIENTATION,this)}_setupProperties(){Object.defineProperty(this,"retina",{get:()=>window.matchMedia(r).matches}),Object.defineProperty(this,"orientation",{get:()=>window.matchMedia(n).matches?"portrait":"landscape"}),this.viewport=this.getBreakpoint()}_setupListeners(A){if(A!==o.CHANGE_EVENTS.RETINA||this.listenersAdded.retina||(window.matchMedia(r).addListener(this._onRetinaChange),this.listenersAdded.retina=!0),A!==o.CHANGE_EVENTS.ORIENTATION||this.listenersAdded.orientation||(window.matchMedia(n).addListener(this._onOrientationChange),this.listenersAdded.orientation=!0),A===o.CHANGE_EVENTS.VIEWPORT&&!this.listenersAdded.viewport){for(let A=0;A<this.BREAKPOINTS.length;A++){let e=this.BREAKPOINTS[A];window.matchMedia(e.mediaQuery).addListener(A=>{A.matches&&(this.oldViewport=this.viewport,this.viewport=e.name,this.trigger(o.CHANGE_EVENTS.VIEWPORT,this))})}this.listenersAdded.viewport=!0}}getBreakpoint(){for(let A=0;A<this.BREAKPOINTS.length;A++){let e=this.BREAKPOINTS[A];if(window.matchMedia(e.mediaQuery).matches)return e.name}}}e.exports=o},{11:11}],96:[function(A,e,t){"use strict";e.exports=function(){var A=new Float32Array(16);return A[0]=1,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=1,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[10]=1,A[11]=0,A[12]=0,A[13]=0,A[14]=0,A[15]=1,A}},{}],97:[function(A,e,t){"use strict";e.exports=function(A,e,t){var i=Math.sin(t),s=Math.cos(t),r=e[4],n=e[5],o=e[6],a=e[7],h=e[8],l=e[9],c=e[10],u=e[11];e!==A&&(A[0]=e[0],A[1]=e[1],A[2]=e[2],A[3]=e[3],A[12]=e[12],A[13]=e[13],A[14]=e[14],A[15]=e[15]);return A[4]=r*s+h*i,A[5]=n*s+l*i,A[6]=o*s+c*i,A[7]=a*s+u*i,A[8]=h*s-r*i,A[9]=l*s-n*i,A[10]=c*s-o*i,A[11]=u*s-a*i,A}},{}],98:[function(A,e,t){"use strict";e.exports=function(A,e,t){var i=Math.sin(t),s=Math.cos(t),r=e[0],n=e[1],o=e[2],a=e[3],h=e[8],l=e[9],c=e[10],u=e[11];e!==A&&(A[4]=e[4],A[5]=e[5],A[6]=e[6],A[7]=e[7],A[12]=e[12],A[13]=e[13],A[14]=e[14],A[15]=e[15]);return A[0]=r*s-h*i,A[1]=n*s-l*i,A[2]=o*s-c*i,A[3]=a*s-u*i,A[8]=r*i+h*s,A[9]=n*i+l*s,A[10]=o*i+c*s,A[11]=a*i+u*s,A}},{}],99:[function(A,e,t){"use strict";e.exports=function(A,e,t){var i=Math.sin(t),s=Math.cos(t),r=e[0],n=e[1],o=e[2],a=e[3],h=e[4],l=e[5],c=e[6],u=e[7];e!==A&&(A[8]=e[8],A[9]=e[9],A[10]=e[10],A[11]=e[11],A[12]=e[12],A[13]=e[13],A[14]=e[14],A[15]=e[15]);return A[0]=r*s+h*i,A[1]=n*s+l*i,A[2]=o*s+c*i,A[3]=a*s+u*i,A[4]=h*s-r*i,A[5]=l*s-n*i,A[6]=c*s-o*i,A[7]=u*s-a*i,A}},{}],100:[function(A,e,t){"use strict";e.exports=function(A,e,t){var i=t[0],s=t[1],r=t[2];return A[0]=e[0]*i,A[1]=e[1]*i,A[2]=e[2]*i,A[3]=e[3]*i,A[4]=e[4]*s,A[5]=e[5]*s,A[6]=e[6]*s,A[7]=e[7]*s,A[8]=e[8]*r,A[9]=e[9]*r,A[10]=e[10]*r,A[11]=e[11]*r,A[12]=e[12],A[13]=e[13],A[14]=e[14],A[15]=e[15],A}},{}],101:[function(A,e,t){"use strict";const i=A(69),s=A(86);e.exports=class extends i{static IS_SUPPORTED(){return!s()}constructor(A){super(A),this.sectionOffset=this.getOffset(),this.heroAnchor=document.querySelector(".section-hero"),this.header=this.el.querySelector(".section-headline")}mounted(){this.tilesKeyframe=this.anim.addKeyframe(this.el,{start:"a0b-100vh",end:"t+20vh",y:[this.sectionOffset,0],anchors:[this.heroAnchor],ease:.3,easeFunction:"easeOutCubic"}),this.setSectionMargins(),this.setPanelOffset(),this.isReducedEnhanced()}getOffset(){return Math.ceil(.2*this.pageMetrics.windowHeight)}setSectionMargins(){if(this.header){this.headerHeight=this.header.offsetHeight;let A=getComputedStyle(this.header);this.headerHeight+=parseInt(A.marginTop)+parseInt(A.marginBottom),this.el.style.setProperty("--header-height",-this.headerHeight+"px")}}setPanelOffset(){this.sectionOffset=this.getOffset(),this.el.style.setProperty("--panel-anim-offset",this.sectionOffset+"px"),this.tilesKeyframe.overwriteProps({y:[this.sectionOffset,0]})}isReducedEnhanced(){document.documentElement.classList.contains("reduced-enhanced")&&(this.sectionOffset=0,this.tilesKeyframe.overwriteProps({y:[this.sectionOffset,0]}))}onResizeDebounced(){this.setSectionMargins(),this.setPanelOffset(),this.isReducedEnhanced()}}},{69:69,86:86}],102:[function(A,e,t){"use strict";const i=A(69);e.exports=class extends i{constructor(A){super(A),this.pageAnchor=document.querySelector(".main"),this.featuresAnchor=document.querySelector(".section-features"),this.headline=this.el.querySelector("[data-hero-headline]"),this.copy=this.el.querySelector("[data-hero-copy]"),this.image=this.el.querySelector("[data-hero-image]"),this.imageHeight=0,this.localnav=document.querySelector("#ac-globalnav"),this.ribbon=document.querySelector(".section-ribbon"),this.totalNavHeight=0}mounted(){this.setNavHeight(),this.heroOpacityKF=this.anim.addKeyframe(this.el,{start:"a0b-100vh",end:"a0b-1vh",anchors:[this.el,this.image],opacity:[1,0],ease:.3,easeFunction:"easeInCubic"}),this.addKeyframe({el:this.headline,start:"a0t",end:"80vh",anchors:[this.pageAnchor],y:[0,"-6vh"],ease:.3,easeFunction:"easeOutCubic"}),this.addKeyframe({el:this.copy,start:"a0t",end:"100vh",anchors:[this.pageAnchor],y:[0,"-5vh"],ease:.3,easeFunction:"easeOutCubic"}),this.isReducedEnhanced()}setNavHeight(){let A=[this.localnav,this.ribbon],e=A.length;this.totalNavHeight=0;for(let t=0;t<e;t++)A[t]&&(this.totalNavHeight+=A[t].offsetHeight);this.imageHeight=this.image.offsetHeight,this.el.style.setProperty("--nav-height",this.totalNavHeight+"px"),this.featuresAnchor.classList.add("show")}isReducedEnhanced(){this.pageMetrics.windowWidth<=375&&this.pageMetrics.windowHeight>=813&&(document.documentElement.classList.add("reduced-enhanced"),this.heroOpacityKF.overwriteProps({start:"a1t - ".concat(this.imageHeight),end:"a1b - ".concat(this.imageHeight)}))}onResizeDebounced(){this.setNavHeight(),this.isReducedEnhanced()}static IS_SUPPORTED(){return document.documentElement.classList.contains("hero-enhanced")}}},{69:69}],103:[function(A,e,t){"use strict";const i=A(69),s=A(89),r=A(94);e.exports=class extends i{static IS_SUPPORTED(){return document.documentElement.classList.contains("inline-video")}constructor(A){super(A),this.elements={headline:this.el.querySelector(".tile-headline"),video:this.el.querySelector("video"),startFrame:this.el.querySelector(".inline-video-startframe"),endFrame:this.el.querySelector(".inline-video-startframe")},this.videoPlayed=!1}mounted(){this.elements.video&&(this._setupEvents(),this.loadVideo(),this.setupKeyframes())}_setupEvents(){this._setFocusableElements(),this.el.addEventListener("focusin",this._onVoFocusIn.bind(this))}_setFocusableElements(){this.elements.headline.tabIndex=-1}setupKeyframes(){let A=this.addKeyframe({el:this.el,anchors:[this.el],start:"a0t + 50a0h - 65vh",end:"a0t + 50a0h - 35vh",event:"inline-video-start"});this.addKeyframe({el:this.el,anchors:[this.el],start:"a0t - 100vh",end:"a0b",event:"inline-video-reset"}),A.controller.on("inline-video-start:enter",()=>{this.playVideo(),this.videoPlayed=!0}),A.controller.on("inline-video-reset:exit",()=>{this.resetVideo(),this.videoPlayed=!1})}loadVideo(){this.videoProxy=s.newVideoProxy(this.elements.video,{}),this.videoProxy.on(s.EVENTS.VIDEO_ENTER_LOAD_AREA,()=>{r.browser.firefox&&this.videoProxy.play(),this.videoProxy.videoElement.hasAttribute("data-video-prevent-load")||setTimeout(()=>{this.videoProxy.canBePlayedThrough||this.videoProxy.videoElement.hasAttribute("data-video-prevent-load")||(this.videoProxy.stopLoad(),this.videoProxy.videoElement.setAttribute("data-video-prevent-load",""))},5e3)}),this.videoProxy.on(s.EVENTS.CAN_PLAY_THROUGH,()=>{this.canPlay=!0}),this.elements.video.addEventListener("ended",this.endVideo.bind(this))}playVideo(){this.canPlay&&!this.videoPlayed&&this.videoProxy.play()}endVideo(){this.elements.video.classList.add("video-ended")}resetVideo(){this.canPlay&&(this.videoProxy.stop(),this.elements.video.classList.remove("video-ended"))}_onVoFocusIn(A){if("key"===A.target.dataset.focusMethod&&!this.videoPlayed){let A=ExpressionParser.parse("(a0t)",{anchors:[this.el]});window.scrollTo(0,A),this.playVideo(),this.videoPlayed=!0}}}},{69:69,89:89,94:94}],104:[function(A,e,t){"use strict";var i=A(13),s=i(A(33)),r=i(A(29));const n=A(69),o=A(78),a=(A,e,t)=>A.substr(0,e)+t+A.substr(e+1);e.exports=class extends n{constructor(A){super(A),this.fadeElements=null,this.wrapper=null,this.headline=null,this.headlineStatic=null,this.textWrapper=null,this.headlineAnimated=null,this.iconAnimated=null,this._testHeadline=null,this._headlineWraps=!1}async mounted(){this.el.classList.add("enhanced"),this._getElements(),this._setupIconAnimation(),this._setupTextString(),this._createHiddenTestHeadline(),await this._setupAnimationWrapperAndStringArray(),this._setupTextClip(),this._addTextKf(),this._addIconKf(),this._addFadeElementsKf()}_getElements(){this.fadeElements=this.el.querySelectorAll("[data-fade-in]"),this.wrapper=this.el.querySelector("[data-headline-wrapper]"),this.headline=this.el.querySelector("[data-headline]"),this.textWrapper=this.el.querySelector("[data-headline-animation-wrapper]"),this.headlineAnimated=this.el.querySelector("[data-headline-animation]"),this.iconAnimated=this.el.querySelector("[data-anim-icon]")}_setupIconAnimation(){this.iconDuration=window.getComputedStyle(this.iconAnimated,null).getPropertyValue("animation-duration"),this.iconKeyframes=parseInt(this.iconDuration),this.iconFrame=0}_setupTextString(){this.originalString=this.headlineAnimated.textContent,this.stringArray=[],this.stringIndex=0}async _setTextAnimationSize(){return new Promise((A,e)=>{(0,s.default)(()=>{let e=this.headline.clientHeight,t=this.headline.clientWidth;(0,r.default)(()=>{this.textWrapper.style.height="".concat(e,"px"),this.textWrapper.style.width="".concat(t,"px"),A()})})})}_setupTextClip(){this.clip=new o(1,{draw:A=>{let e=this.stringArray.length,t=Math.floor(A*(e-1-(i=0))+i);var i;t!==this.stringIndex&&(this.headlineAnimated.textContent=this.stringArray[t]),this.stringIndex=t}})}_createPrivacyTestStr(){const A=this.originalString.length,e=[];for(let t=0;t<A;t+=1)e.push("·");return e.join("")}_createHiddenTestHeadline(){const A=this._createPrivacyTestStr(),e=Array.from(this.headlineAnimated.classList),t=this._testHeadline=document.createElement("p");t.textContent=A,t.classList.add(...e),t.ariaHidden=!0,t.tabIndex=-1,t.style.position="absolute",t.style.top=0,t.style.right=0,t.style.transform="translateX(100%)",this.el.appendChild(t)}async _testPrivacyStringWidth(){return new Promise((A,e)=>{(0,s.default)(()=>{this._headlineWraps=this._testHeadline.scrollWidth>this.textWrapper.clientWidth,A()})})}_getWordBreakIndex(){return this.viewportString.match(/\s/).index}_getWordBreakIndeces(){let A=[];for(let e=0;e<this.viewportString.length;e++)/\s/.test(this.viewportString.charAt(e))&&A.push(e+1);return A}_setupTextViewportString(){const A=":nbsp(not-s):";this.viewportString=this.originalString,this.viewportString="S"===this.pageMetrics.breakpoint?this.viewportString.replace(A," "):this.viewportString.replace(A," ")}_setupStringArray(){this._setupTextViewportString(),this.stringArray=[];const A=this._getWordBreakIndex()+1,e=this._getWordBreakIndeces();let t=this.viewportString,i=t.length;this.stringArray[i+1]=t;for(let t=i;t>-1;t--){let i=this.stringArray[t+1],s="";s="S"===this.pageMetrics.breakpoint?e[0]&&t===e[0]||e[1]&&t===e[1]?i:a(i,t-1,"·"):A&&t===A?i:a(i,t-1,"·"),this.stringArray[t]=s}this.headlineAnimated.textContent=this.stringArray[0]}async _setupAnimationWrapperAndStringArray(){await this._setTextAnimationSize(),await this._testPrivacyStringWidth(),this._setupStringArray()}_addTextKf(){this.addKeyframe({group:this._parallaxScrollGroup,el:this.el,start:"a0t - 90vh",end:"a0t - 40vh",anchors:[this.textWrapper],clipIndex:[0,1]}).controller.on("draw",A=>{let e=A.tweenProps.clipIndex.current;this.clip.draw(e)})}_addIconKf(){this.addKeyframe({group:this._parallaxScrollGroup,el:this.el,start:"a0t - 90vh",end:"a0t - 40vh",anchors:[this.textWrapper],_percent:[0,100]}).controller.on("draw",A=>{let e=A.tweenProps._percent.current,t=100/this.iconKeyframes,i=Math.round(e/t);this.iconFrame!==i&&(this.iconAnimated.style.animationDelay="-".concat(i,"s")),this.iconFrame=i})}_addFadeElementsKf(){this.fadeElements.forEach(A=>{this.addKeyframe({group:this._parallaxScrollGroup,el:A,start:"t - 100vh",end:"t - 60vh",opacity:["0","1"],y:["10vh","0"],easeFunction:"easeOutQuad"})})}onResizeDebounced(){this._setupAnimationWrapperAndStringArray()}static IS_SUPPORTED(){return document.documentElement.classList.contains("no-reduced-motion")}}},{13:13,29:29,33:33,69:69,78:78}],105:[function(A,e,t){"use strict";const i=A(69);e.exports=class extends i{constructor(A){super(A),this.ribbonCopy=this.el.querySelector("p")}mounted(){this._setupEvents()}_setupEvents(){this.ribbonCopy.addEventListener("focus",this._onVoFocus.bind(this))}_onVoFocus(A){"key"===A.target.dataset.focusMethod&&window.scrollTo(0,0)}}},{69:69}],106:[function(A,e,t){"use strict";const i=A(69),s=A(1),r=A(3),n=A(16),o=A(19),a=A(86),h="data-tile-id",l="data-tile-trigger";e.exports=class extends i{constructor(A){super(A),this.tileHeadlines=this.el.querySelectorAll("[data-tile-heading]"),this.tileEls=this.el.querySelectorAll("[data-tile]"),this.tiles={},this.openedTile=null,this.clickedTile=null,this.swapTiles=!1}mounted(){this.init(),this._setupEvents()}_setupEvents(){this._openTile=this._openTile.bind(this),this._closeTile=this._closeTile.bind(this),Object.keys(this.tiles).forEach(A=>{s.addEventListener(this.tiles[A].buttonOpen,"click",this._openTile),s.addEventListener(this.tiles[A].buttonClose,"click",this._closeTile)}),n.onUp(o.ESCAPE,this._closeTile)}init(){this.initHeadlineAnimations(),this.tileEls.forEach(A=>{let e={},t=A.querySelector(".tile-panel"),i=r.getFocusableElements(t);e.el=A,e.buttonOpen=A.querySelector(".button-open"),e.buttonClose=A.querySelector(".button-close"),e.panelFocus=i[0],this.tiles[A.getAttribute(h)]=e})}initHeadlineAnimations(){a()||this.tileHeadlines.forEach((A,e)=>{0===e?this.addKeyframe({el:A,start:"a0b-80vh",end:"a0b-75vh",opacity:[0,1],anchors:[".section-hero"],y:[20,0],ease:.3,easeFunction:"easeInCubic"}):this.addKeyframe({el:A,start:"t-95vh",end:"t-80vh",opacity:[0,1],y:[15,0],ease:.3,easeFunction:"easeInCubic"})})}_setFocus(A){setTimeout(()=>{A.focus()},100)}_openTile(A){A.preventDefault(),this.clickedTile=this.tiles[A.target.getAttribute(l)],this.openedTile&&this.clickedTile!==this.openedTile&&(this.swapTiles=!0,this._closeTile()),this.openedTile=this.clickedTile,this._setFocus(this.openedTile.panelFocus),this.openedTile.el.classList.add("panel-show")}_closeTile(){this.openedTile&&(this.openedTile.el.classList.remove("panel-show"),this.swapTiles?this.swapTiles=!1:(this._setFocus(this.openedTile.buttonOpen),this.openedTile=null))}onResizeDebounced(){this.anim.forceUpdate()}static IS_SUPPORTED(){return!0}}},{1:1,16:16,19:19,3:3,69:69,86:86}],107:[function(A,e,t){"use strict";const i=A(70),s=A(40),r=A(71),n=A(38),o=A(2);({initialize(){Object.assign(r,{InlineVideo:A(103),Tile:A(106),Features:A(101),Hero:A(102),Privacy:A(104),Ribbon:A(105)});let e=document.querySelector(".main");s.model.BREAKPOINTS=[{name:"S",mediaQuery:"only screen and (max-width: 734px)"},{name:"M",mediaQuery:"only screen and (max-width: 1068px)"},{name:"L",mediaQuery:"only screen and (min-width: 1441px)"},{name:"L",mediaQuery:"only screen and (min-width: 1069px)"}];const t=new i(e);t.anim.on(s.model.EVENTS.ON_DOM_KEYFRAMES_CREATED,()=>{new n}),o.detect(),window.addEventListener("resize:text-zoom",(function(){t.anim.forceUpdate()}));document.querySelector(".grid-wrapper .tile-trade-in")&&window.addEventListener("tradeinComplete",A=>{A.detail.error||(document.getElementsByClassName("tile-trade-in")[0].style.display="block")});if(document.querySelector(".features-hierarchy-test-active")){async function a(){await new Promise(A=>{t.componentsInitialized?A():t.once(i.EVENTS.DOM_COMPONENTS_MOUNTED,()=>{A()})});t.getComponentsOfType("InlineVideo").forEach(A=>{A.videoProxy.videoElement.__InlineVideoProxyInstance.startLoad()})}document.addEventListener("at-content-rendering-succeeded",()=>{t.anim.forceUpdate(),a()})}}}).initialize()},{101:101,102:102,103:103,104:104,105:105,106:106,2:2,38:38,40:40,70:70,71:71}]},{},[107]);